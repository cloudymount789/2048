<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Blogs on CloudyMount</title>
    <link>https://cloudymount789.github.io/blog/</link>
    <description>Recent content in Blogs on CloudyMount created by </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Sat, 03 Jan 2026 15:47:49 +0800</lastBuildDate><atom:link href="https://cloudymount789.github.io/blog/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>SICP_interpreter_笔记</title>
      <link>https://cloudymount789.github.io/blog/sicp_note_interpreter/</link>
      <pubDate>Sat, 03 Jan 2026 15:47:49 +0800</pubDate>
      
      <guid>https://cloudymount789.github.io/blog/sicp_note_interpreter/</guid>
      <description>&lt;p&gt;摘要&lt;/p&gt;
&lt;p&gt;本文为《计算机程序的构造和解释》（SICP，CS61A 南大引进版）用python实现scheme解释器部分课程核心笔记，聚焦程序设计的底层逻辑与核心思想，旨在帮助学习者搭建“知其然更知其所以然”的编程认知框架。适合正在学习 CS61A 课程的学习者梳理知识体系，也可作为编程入门者夯实基础、理解程序设计本质的参考资料。&lt;/p&gt;
&lt;h1 id=&#34;使用python实现scheme解释器-interpreters&#34;&gt;使用python实现scheme解释器 (Interpreters)&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://sicp.pascal-lab.net/2025/projects/proj04/index.html&#34;&gt;&lt;strong&gt;Hangout&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;翻译与解释器基础-translation-and-interpreter-basics&#34;&gt;翻译与解释器基础 (Translation and Interpreter Basics)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;计算机只能理解&lt;strong&gt;二进制 (Binary)&lt;/strong&gt; ，而高级编程语言需要被翻译成二进制才能运行。解释器 (Interpreter) 实现了&lt;strong&gt;即时 (on-the-fly)&lt;/strong&gt; 翻译和执行 。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-翻译类型-types-of-translation&#34;&gt;1. 翻译类型 (Types of Translation)&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;编译 (Compiled):&lt;/strong&gt; 一次性全部翻译，稍后运行 。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解释 (Interpreted):&lt;/strong&gt; 边运行边翻译 。&lt;/p&gt;
&lt;h4 id=&#34;2-解释器语言-interpreter-languages&#34;&gt;2. 解释器语言 (Interpreter Languages)&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;实现语言 (Implementation Language):&lt;/strong&gt; 用来编写解释器本身的语言（如 Scheme 解释器可能是用 Python 实现的） 。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;被实现语言 (Implemented Language):&lt;/strong&gt; 用户输入的语言（即 Scheme） 。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;被实现语言被翻译成实现语言 。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-读-求值-打印循环-read-eval-print-loop-repl&#34;&gt;3. 读-求值-打印循环 (Read-Eval-Print Loop, REPL)&lt;/h4&gt;
&lt;p&gt;解释器核心的三个步骤:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;读 (Read):&lt;/strong&gt; 读取用户输入（字符串）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;求值 (Eval):&lt;/strong&gt; 将输入翻译成计算机可读的形式并求值 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;打印 (Print):&lt;/strong&gt; 打印结果给用户 。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;读取阶段-the-read-phase&#34;&gt;读取阶段 (The Read Phase)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-1&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;读取阶段将原始输入字符串转换为一种在实现语言（Python）中可操作的&lt;strong&gt;表达式表示 (Expression Representation)&lt;/strong&gt; 。&lt;/p&gt;
&lt;h3 id=&#34;核心概念&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-词法分析提词器lexical-analysis--lexer&#34;&gt;1. 词法分析/提词器(Lexical Analysis / Lexer)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;将输入字符串转化为&lt;strong&gt;标记 (Tokens)&lt;/strong&gt; 集合 。&lt;/li&gt;
&lt;li&gt;分割+提取+初步处理(按照规则转化为放在python列表里的python语法的东西)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;标记 (Token):&lt;/strong&gt; 输入字符串的单个有意义单元，如字面量(literals)、名称(names)、关键字(keywords)、分隔符(delimiters)等 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;注：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;分隔符：用于分割不同语法单元，如括号，分号，引号
关键字：即special form和standard procedures,如define,lambda,if,begin,quote
名称：即标识符，如函数名，变量名
字面量：表示直接值的语法元素，如数字，字符串，字符(&lt;code&gt;#\a&lt;/code&gt;)，符号(&lt;code&gt;&#39;symbol&lt;/code&gt;)，布尔值，列表、向量字面量(&lt;code&gt;&#39;(1 2 3)&lt;/code&gt;、&lt;code&gt;#(a b c)&lt;/code&gt;)&lt;/p&gt;&lt;/blockquote&gt;
&lt;h4 id=&#34;2-语法分析-syntactic-analysis--parser&#34;&gt;2. 语法分析 (Syntactic Analysis / Parser)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;将标记转化为实现语言中表达式的&lt;strong&gt;表示形式(Representation)&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;基本表达式的表示&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;自求值表达式 (Self-Evaluating Expressions)&lt;/strong&gt; (&lt;code&gt;#t&lt;/code&gt;, &lt;code&gt;5.2&lt;/code&gt;): 使用 Python 对应的布尔值或数字 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;符号 (Symbols)&lt;/strong&gt; (&lt;code&gt;cons&lt;/code&gt;): 使用 Python 字符串 。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;注：
scheme 表达式种类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自求值表达式(self-evaluatingexpressions)&lt;/li&gt;
&lt;li&gt;符号(symbols)&lt;/li&gt;
&lt;li&gt;调用表达式(call expressions)&lt;/li&gt;
&lt;li&gt;特殊表达式(special form expressions)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-表示组合-representing-combinations&#34;&gt;3. 表示组合 (Representing Combinations)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Scheme 的组合表达式 &lt;code&gt;(&amp;lt;operator&amp;gt; &amp;lt;operand1&amp;gt; ...)&lt;/code&gt; 在内部被表示为包含操作符和操作数的&lt;strong&gt;Scheme 链表 (Linked Lists)&lt;/strong&gt; 。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;scm&amp;gt; (define expr &amp;#39;(+ 2 3)) ; Create the expression (+ 2 3)
expr
scm&amp;gt; (eval expr) ; Evaluate the expression
5
scm&amp;gt; (car expr) ; Get the operator
+
scm&amp;gt; (cdr expr) ; Get the operands
(2 3)
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;在 Python 中，Scheme 列表通过自定义的 &lt;code&gt;Pair&lt;/code&gt; 类和全局 &lt;code&gt;nil&lt;/code&gt; 实例来精确表示:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Python &lt;code&gt;Pair&lt;/code&gt; 和 &lt;code&gt;nil&lt;/code&gt; 类&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pair&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt;(self, first, second):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; first &lt;span style=&#34;color:#75715e&#34;&gt;# 相当于 Scheme 的 car&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;second &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; second &lt;span style=&#34;color:#75715e&#34;&gt;# 相当于 Scheme 的 cdr&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Pair(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{0}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{1}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;format(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first, self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;second)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;nil&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;nil&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nil &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; nil()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 让所有的nil都是同一个nil,防止每次都创建一个instance,出现不同的instance不能进行相等的运算&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;4-特殊情况引用-quote&#34;&gt;4. 特殊情况：引用 (&lt;code&gt;quote&lt;/code&gt;)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;特殊语法 &lt;code&gt;‘&amp;lt;expr&amp;gt;&lt;/code&gt; 在读取时会被转换成一个完整的 &lt;code&gt;quote&lt;/code&gt; 表达式 。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;例题&#34;&gt;例题&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;(+ 2 3)&lt;/code&gt; 被表示为:
&lt;code&gt;Pair(&#39;+&#39;, Pair(2, Pair(3, nil)))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(define (f) 3)&lt;/code&gt;表示为
&lt;code&gt;Pair(&#39;define&#39;, (Pair(Pair(&#39;f&#39;, nil), Pair(3, nil))))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;4.67&lt;/code&gt; -&amp;gt; &lt;code&gt;4.67&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#t&lt;/code&gt; -&amp;gt; &lt;code&gt;True&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;list&lt;/code&gt; -&amp;gt; &lt;code&gt;&#39;list&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(cons 2 3)&lt;/code&gt; -&amp;gt; &lt;code&gt;Pair(&#39;cons&#39;, Pair(2, Pair(3, nil)))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(if (&amp;lt; x 0) 1 (+ x 1))&lt;/code&gt;
-&amp;gt;
&lt;code&gt;Pair(&#39;if&#39;, Pair(Pair(&#39;&amp;lt;&#39;, Pair(&#39;x&#39;, Pair(0, nil))), Pair(1, Pair(Pair(&#39;+&#39;,  Pair(&#39;x&#39;, Pair(1, nil))), nil))))&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;遇到括号套一层pair&lt;/p&gt;&lt;/blockquote&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;&lt;code&gt;&#39;hello&lt;/code&gt; -&amp;gt; &lt;code&gt;Pair(&#39;quote&#39;, Pair(&#39;hello&#39;, nil))&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;求值阶段-the-eval-phase&#34;&gt;求值阶段 (The Eval Phase)&lt;/h2&gt;
&lt;h3 id=&#34;复习怎么画环境图来着&#34;&gt;复习：怎么画环境图来着？&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;make-adder&lt;/span&gt; x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;) (+ x y)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;add-three (&lt;span style=&#34;color:#a6e22e&#34;&gt;make-adder&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;add-three&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;add-three&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-8.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;主题概述-2&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;求值阶段 (Eval) 是解释器的核心，它接收表达式的表示形式和一个&lt;strong&gt;环境 (Environment)&lt;/strong&gt; ，并返回求值结果（值）。Eval 和 Apply 是&lt;strong&gt;相互递归 (mutually-recursive)&lt;/strong&gt; 的 。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-1&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-环境与框架-environments-and-frames&#34;&gt;1. 环境与框架 (Environments and Frames)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;环境 (Environment):&lt;/strong&gt; 由当前框架、其父框架及其所有祖先框架直到全局框架组成 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;框架 (Frame):&lt;/strong&gt; 在解释器中由 &lt;code&gt;Frame&lt;/code&gt; 类实例表示 。
Frame有两个实例属性：
&lt;code&gt;bindings&lt;/code&gt;: 字典，将 Scheme 符号 (Python 字符串) 绑定到 Scheme 值 。
&lt;code&gt;parent&lt;/code&gt;: 指向父框架（另一个frame实例）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-求值基本表达式-evaluating-primitive-expressions&#34;&gt;2. 求值基本表达式 (Evaluating Primitive Expressions)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;自求值表达式:&lt;/strong&gt; 它们求值结果就是自身 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;符号 (Symbols):&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;从&lt;strong&gt;当前框架&lt;/strong&gt;开始查找符号的绑定值 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果未找到，递归地向&lt;strong&gt;父框架&lt;/strong&gt;查找，直到&lt;strong&gt;全局框架&lt;/strong&gt; 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果全局框架仍未找到，抛出错误 (&lt;code&gt;SchemeError&lt;/code&gt;) 。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-求值组合-evaluating-combinations&#34;&gt;3. 求值组合 (Evaluating Combinations)&lt;/h4&gt;
&lt;p&gt;组合表达式分为&lt;strong&gt;特殊形式&lt;/strong&gt;和&lt;strong&gt;调用表达式&lt;/strong&gt;，取决于其运算符 。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;特殊形式 (Special Forms):&lt;/strong&gt; 运算符是特殊的符号（如 &lt;code&gt;define&lt;/code&gt;, &lt;code&gt;if&lt;/code&gt;, &lt;code&gt;lambda&lt;/code&gt;），有其自身的求值规则 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;调用表达式 (Call Expressions):&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;求值运算符，得到一个&lt;strong&gt;过程 (Procedure)&lt;/strong&gt; 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;从左到右求值所有操作数，得到参数值 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;应用 (Apply)&lt;/strong&gt; 过程到参数值 。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;前两步递归的调用eval喵&lt;/p&gt;&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;应用阶段-the-apply-phase&#34;&gt;应用阶段 (The Apply Phase)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-3&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;应用阶段 (Apply) 将一个过程 (Procedure) 应用于一组参数 (Arguments)。过程有两种类型：内置过程和用户定义过程 。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-2&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-内置过程-built-in-procedures&#34;&gt;1. 内置过程 (Built-In Procedures)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;例如 &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;list&lt;/code&gt;, &lt;code&gt;modulo&lt;/code&gt; 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在解释器中，它们是 &lt;code&gt;BuiltinProcedure&lt;/code&gt; 类的实例 。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;应用规则&lt;/strong&gt;: 直接调用对应的实现语言（Python）函数，并将参数值传入 。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-用户定义过程-user-defined-procedures&#34;&gt;2. 用户定义过程 (User-Defined Procedures)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;通过 &lt;code&gt;lambda&lt;/code&gt; 或 &lt;code&gt;define&lt;/code&gt; 定义 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在解释器中，它们是 &lt;code&gt;LambdaProcedure&lt;/code&gt; 类的实例，包含形式参数列表、函数体和&lt;strong&gt;父框架 (Parent Frame)&lt;/strong&gt; 。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;应用规则 (Application Rules):&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;打开一个&lt;strong&gt;新框架 (New Frame)&lt;/strong&gt;，其父框架是该过程的&lt;strong&gt;父框架&lt;/strong&gt;（即创建该过程时的环境）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将形式参数 (Formal Parameters) 绑定到参数值 (Arguments) 上，存储在新框架中 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在&lt;strong&gt;新框架&lt;/strong&gt;中求值过程的函数体 。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-evalapply-计数-counting-evalapply-calls&#34;&gt;3. Eval/Apply 计数 (Counting Eval/Apply Calls)&lt;/h4&gt;
&lt;p&gt;Eval 和 Apply 是相互调用的：
&lt;img src=&#34;https://cloudymount789.github.io/images/image-9.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Eval（求值）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Eval&lt;/code&gt; 的任务是接收一个表达式（代码）和当前环境，并返回它的值。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;基础情况 (Base Cases):&lt;/strong&gt; 这是递归的终点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自求值表达式 (Self-evaluating expressions):&lt;/strong&gt; 比如数字（&lt;code&gt;5&lt;/code&gt;）或字符串（&lt;code&gt;&amp;quot;hello&amp;quot;&lt;/code&gt;），它们的值就是它们本身。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;符号查找 (Look up values):&lt;/strong&gt; 比如变量名 &lt;code&gt;x&lt;/code&gt;。求值器会去内存（环境）中查找 &lt;code&gt;x&lt;/code&gt; 对应的值。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;递归情况 (Recursive Cases):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Eval(operator) 和 Eval(o):&lt;/strong&gt; 当遇到一个函数调用时，它先分别求出“函数名”和“所有参数”的具体数值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Apply(proc, args):&lt;/strong&gt; 一旦参数准备好了，它就会把这些参数交给 &lt;code&gt;Apply&lt;/code&gt; 去实际执行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;特殊形式 (Special Form):&lt;/strong&gt; 比如 &lt;code&gt;if&lt;/code&gt; 语句或 &lt;code&gt;define&lt;/code&gt;。这些不是普通函数，需要特殊的处理逻辑&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;2. Apply（应用）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Apply&lt;/code&gt; 的任务是接收一个“函数”和一组“参数”，并执行这个函数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;基础情况 (Base Cases):&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;内置过程 (Built-in procedures):&lt;/strong&gt; 比如加法 &lt;code&gt;+&lt;/code&gt; 或减法 &lt;code&gt;-&lt;/code&gt;。这些是由底层硬件或底层语言（如 C 或 Python）直接实现的，不需要再拆解。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;递归情况 (Recursive Cases):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Eval(body) of user defined procedures:&lt;/strong&gt; 对于用户自己定义的函数，&lt;code&gt;Apply&lt;/code&gt; 会打开函数体（Body），然后在这一组新参数的环境下，**重新调用 &lt;code&gt;Eval**&lt;/code&gt; 来处理函数体里的代码。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这种&lt;strong&gt;相互递归 (Mutual Recursion)&lt;/strong&gt; 形成了一个闭环。通过这个循环，解释器可以处理极其复杂的嵌套代码：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Eval&lt;/code&gt; 负责“拆解”结构。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Apply&lt;/code&gt; 负责“执行”动作。&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;例题&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-10.png&#34; alt=&#34;alt text&#34;&gt;&lt;/li&gt;
&lt;li&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-11.png&#34; alt=&#34;alt text&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    
    <item>
      <title>SICP_SQL_笔记</title>
      <link>https://cloudymount789.github.io/blog/sicp_note_sql/</link>
      <pubDate>Sat, 03 Jan 2026 12:48:01 +0800</pubDate>
      
      <guid>https://cloudymount789.github.io/blog/sicp_note_sql/</guid>
      <description>&lt;p&gt;摘要&lt;/p&gt;
&lt;p&gt;本文为《计算机程序的构造和解释》（SICP，CS61A 南大引进版）SQL部分课程核心笔记，聚焦程序设计的底层逻辑与核心思想，旨在帮助学习者搭建“知其然更知其所以然”的编程认知框架。适合正在学习 CS61A 课程的学习者梳理知识体系，也可作为编程入门者夯实基础、理解程序设计本质的参考资料。&lt;/p&gt;
&lt;h1 id=&#34;sql-数据库查询structured-query-language&#34;&gt;SQL 数据库查询(Structured Query Language)&lt;/h1&gt;
&lt;h2 id=&#34;注意事项&#34;&gt;注意事项&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;句末记得加分号!&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;记得所有的字符串都要加&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;!&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SQL中的&lt;!-- raw HTML omitted --&gt;中的取等不用&lt;code&gt;==&lt;/code&gt;!用&lt;code&gt;=&lt;/code&gt;即可!!&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;审清楚题干!!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;主题-1声明式编程与-sql-基础-declarative-programming--sql-basics&#34;&gt;主题 1：声明式编程与 SQL 基础 (Declarative Programming &amp;amp; SQL Basics)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;SQL 是一种&lt;strong&gt;声明式语言 (Declarative Language)&lt;/strong&gt;。与传统的命令式编程（如 Python，需分步指明“怎么做”）不同，声明式编程只需告诉计算机“想要什么”，由解释器决定如何执行。&lt;/p&gt;
&lt;h3 id=&#34;核心概念&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-数据库结构-database-structure&#34;&gt;1. 数据库结构 (Database Structure)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;表 (Table)&lt;/strong&gt;：存储数据的核心单元，由固定数量的&lt;strong&gt;列 (Columns)&lt;/strong&gt; 和多行&lt;strong&gt;数据条目 (Rows/Records)&lt;/strong&gt; 组成。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;列 (Column)&lt;/strong&gt;：具有特定的名称和描述。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;行 (Row)&lt;/strong&gt;：为每一列提供具体的值。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-创建表&#34;&gt;2. 创建表&lt;/h4&gt;
&lt;p&gt;在 SQL 中，可以通过组合已有的数据或从头定义来创建表：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;使用 &lt;code&gt;SELECT&lt;/code&gt; 创建的是临时数据行&lt;/strong&gt;,用于展示给用户看而不存储&lt;/li&gt;
&lt;li&gt;使用&lt;code&gt;CREATE TABLE &amp;lt;NAME&amp;gt; AS&lt;/code&gt;&lt;strong&gt;存储数据&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;UNION&lt;/code&gt; 将多个 &lt;code&gt;SELECT&lt;/code&gt; 语句连接起来,创建多行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法示例&lt;/strong&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; dogs &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;abraham&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; name, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;long&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; fur &lt;span style=&#34;color:#66d9ef&#34;&gt;UNION&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;barack&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;short&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;UNION&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;clinton&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;long&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-选择数据-the-select-statement&#34;&gt;3. 选择数据 (The SELECT Statement)&lt;/h4&gt;
&lt;p&gt;最基本的查询结构，用于从表中提取特定数据。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;SELECT&lt;/code&gt;会做什么?&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;无FROM&lt;/strong&gt;: 可以制造单行,用逗号将同一行内不同列的内容隔开多用于&lt;code&gt;CREATE&lt;/code&gt;中;可以用&lt;code&gt;AS&lt;/code&gt; 取名作为一列的列名称&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;有FROM&lt;/strong&gt;: 从FROM的TABLE中用列名称把一列拿出来(即列名称会被evaluate成为多个行的值)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SELECE&lt;/code&gt;始终决定了列规模&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SELECT * FROM&lt;/code&gt;选择全部&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;语法顺序&lt;/strong&gt;：&lt;code&gt;SELECT [列名] FROM [表名] WHERE [过滤条件] ORDER BY [排序方式] LIMIT [数量];&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WHERE 关键字&lt;/strong&gt;：用于根据布尔条件过滤行。(输入表的行子集(subset of the rows of the input table))&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ORDER BY 关键字&lt;/strong&gt;：对结果进行排序（&lt;code&gt;ASC&lt;/code&gt; 升序，默认；&lt;code&gt;DESC&lt;/code&gt; 降序）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;LIMIT关键字&lt;/strong&gt;: 限制输出行数&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-select语句中的算术arithmetic&#34;&gt;4. &lt;code&gt;SELECT&lt;/code&gt;语句中的算术(Arithmetic)&lt;/h4&gt;
&lt;p&gt;-&amp;gt; 直接使用运算符号&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; restaurant &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;101&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;table&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; single, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; couple &lt;span style=&#34;color:#66d9ef&#34;&gt;UNION&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;102&lt;/span&gt; , &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; , &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;UNION&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;103&lt;/span&gt; , &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; , &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlite&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;table&lt;/span&gt;, single &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; couple &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;total &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; restaurant;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;主题-2连接与别名-joins--aliasing&#34;&gt;主题 2：连接与别名 (Joins &amp;amp; Aliasing)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-1&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;连接 (Join)&lt;/strong&gt; 允许我们组合多个表的数据。当我们连接两个表时，结果是一个新表，其中包含原始表行之间的每一种可能组合（笛卡尔积）。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-连接表-joining-tables&#34;&gt;1. 连接表 (Joining Tables)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：在 &lt;code&gt;FROM&lt;/code&gt; 子句中列出多个表名，用逗号分隔。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; parents, dogs &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; child &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; name;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-别名-aliasing&#34;&gt;2. 别名 (Aliasing)&lt;/h4&gt;
&lt;p&gt;当连接同一个表两次（Self-join）或多个表有重名列时，必须使用别名。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：使用 &lt;code&gt;AS&lt;/code&gt; 关键字（可省略）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;：消除歧义。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：寻找所有兄弟姐妹（拥有共同父母的两个孩子）：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; a.child &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;first&lt;/span&gt;, b.child &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;second&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; parents &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; a, parents &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; a.parent &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; b.parent &lt;span style=&#34;color:#66d9ef&#34;&gt;AND&lt;/span&gt; a.child &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; b.child;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;注意：使用&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;a.child &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; b.child&lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;是为了去除重复项并避免自己与自己配对。&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;扩展-显式连接---join-on语句&#34;&gt;扩展: 显式连接 -&amp;gt; JOIN ON语句&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;使用显式语句连接,使表格连接更清晰明了&lt;/p&gt;&lt;/blockquote&gt;
&lt;h4 id=&#34;why-join&#34;&gt;&lt;strong&gt;Why JOIN?&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;数据库中的表通常是为了消除冗余而拆分的（例如：一张表存学生信息，一张表存班级信息）。&lt;strong&gt;连接 (Join)&lt;/strong&gt; 的目的就是根据两个表之间的&lt;strong&gt;公共列&lt;/strong&gt;（通常是 ID），将分散的数据重新组合成一行。&lt;/p&gt;
&lt;p&gt;CS61A 风格: &lt;strong&gt;隐式连接 (Implicit Join)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这是 PPT 中主要演示的方法。它实际上是先做笛卡尔积（Cross Join），然后用 &lt;code&gt;WHERE&lt;/code&gt; 过滤。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：在 &lt;code&gt;FROM&lt;/code&gt; 子句中用逗号分隔表名，在 &lt;code&gt;WHERE&lt;/code&gt; 子句中指定连接条件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; name, course 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; students, enrollments 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; students.sid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; enrollments.sid;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现代标准风格: &lt;strong&gt;显式连接 (Explicit JOIN)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这是更推荐的写法，语义更清晰，将“连接逻辑”和“过滤逻辑”分开了。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;：使用 &lt;code&gt;JOIN&lt;/code&gt; 关键字，并用 &lt;code&gt;ON&lt;/code&gt; 指定连接条件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; name, course 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; students 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;INNER&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;JOIN&lt;/span&gt; enrollments 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;ON&lt;/span&gt; students.sid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; enrollments.sid;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;常见的连接类型 (Types of Joins)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为了演示，假设我们有两张表：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Table A (Students)&lt;/strong&gt;: &lt;code&gt;{1: &#39;Alice&#39;, 2: &#39;Bob&#39;, 3: &#39;Charlie&#39;}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Table B (Grades)&lt;/strong&gt;: &lt;code&gt;{1: &#39;A&#39;, 2: &#39;B&#39;, 4: &#39;C&#39;}&lt;/code&gt; (注意：Charlie 没有成绩，ID 4 的成绩属于不存在的学生)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1-内连接-inner-join&#34;&gt;(1) 内连接 (INNER JOIN)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：只保留两个表中&lt;strong&gt;都存在&lt;/strong&gt;匹配关系的行（交集）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CS61A 写法&lt;/strong&gt;：&lt;code&gt;FROM A, B WHERE A.id = B.id&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;标准写法&lt;/strong&gt;：&lt;code&gt;FROM A INNER JOIN B ON A.id = B.id&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;结果&lt;/strong&gt;：Alice (A), Bob (B)。(Charlie 和 ID 4 被丢弃)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-左连接-left-outer-join&#34;&gt;(2) 左连接 (LEFT OUTER JOIN)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;定义&lt;/strong&gt;：保留&lt;strong&gt;左表&lt;/strong&gt;（FROM 后的表）的所有行。如果右表没有匹配，右表的列显示为 &lt;code&gt;NULL&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;标准写法&lt;/strong&gt;：&lt;code&gt;FROM A LEFT JOIN B ON A.id = B.id&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;结果&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Alice - A&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bob - B&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Charlie - &lt;strong&gt;NULL&lt;/strong&gt; (因为 Charlie 在左表，但右表没成绩)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;注：SQLite 支持 LEFT JOIN，但不支持 RIGHT JOIN。&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-交叉连接-cross-join--cartesian-product&#34;&gt;(3) 交叉连接 (CROSS JOIN / Cartesian Product)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;每一行 A 与每一行 B 配对，产生所有可能的组合。&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;在输出中连接string使用&lt;code&gt;||&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题-3聚合与分组-aggregation--grouping&#34;&gt;主题 3：聚合与分组 (Aggregation &amp;amp; Grouping)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-2&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;聚合函数允许我们对一组行执行操作并返回单个值，通常与分组配合使用。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts-1&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-聚合函数-aggregate-functions&#34;&gt;1. 聚合函数 (Aggregate Functions)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;COUNT(*)&lt;/code&gt;：计算行数。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SUM(col)&lt;/code&gt;：求某一列的和。(注:求行的值需要使用多个&lt;code&gt;+&lt;/code&gt;运算符)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MIN(col)&lt;/code&gt; / &lt;code&gt;MAX(col)&lt;/code&gt;：某一列中的最小值/最大值。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AVG(col)&lt;/code&gt;：某一列的平均值。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-分组查询-group-by&#34;&gt;2. 分组查询 (GROUP BY)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GROUP BY &amp;lt;expression&amp;gt;&lt;/code&gt;后表达式求值结果相同被化为同一组,表达式中可以使用多个列名和运算符&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;：将结果集划分为多个组，对每个组分别应用聚合函数。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HAVING 过滤&lt;/strong&gt;：用于过滤&lt;strong&gt;组&lt;/strong&gt;，类似于 &lt;code&gt;WHERE&lt;/code&gt; 过滤&lt;strong&gt;行&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：统计每种毛发类型的狗的数量，且只显示数量大于 1 的组：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; fur, &lt;span style=&#34;color:#66d9ef&#34;&gt;COUNT&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; dogs &lt;span style=&#34;color:#66d9ef&#34;&gt;GROUP&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;BY&lt;/span&gt; fur &lt;span style=&#34;color:#66d9ef&#34;&gt;HAVING&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;COUNT&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;主题-4修改表记录-modifying-records&#34;&gt;主题 4：修改表记录 (Modifying Records)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-3&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;除了查询，SQL 还提供了创建空表及增删改查记录的语句。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts-2&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-表的生命周期&#34;&gt;1. 表的生命周期&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;CREATE TABLE&lt;/strong&gt;：创建一个没有初始数据的空表。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;CREATE TABLE [name]([column_defs]);&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;DROP TABLE&lt;/strong&gt;：从数据库中永久删除表。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;DROP TABLE [IF EXISTS] [name];&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;例:
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; parents(parent, child);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; dogs(name, fur, phrase &lt;span style=&#34;color:#66d9ef&#34;&gt;DEFAULT&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;woof&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;DROP&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; dogs;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;DROP&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;IF&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;EXISTS&lt;/span&gt; parents;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;2-数据操作-dml&#34;&gt;2. 数据操作 (DML)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;INSERT&lt;/strong&gt;：插入新行。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;INSERT&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;INTO&lt;/span&gt; [&lt;span style=&#34;color:#66d9ef&#34;&gt;table&lt;/span&gt;]([columns]) &lt;span style=&#34;color:#66d9ef&#34;&gt;VALUES&lt;/span&gt;([&lt;span style=&#34;color:#66d9ef&#34;&gt;values&lt;/span&gt;]), ([&lt;span style=&#34;color:#66d9ef&#34;&gt;values&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;e.&lt;span style=&#34;color:#66d9ef&#34;&gt;g&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;INSERT&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;INTO&lt;/span&gt; dogs(name, fur) &lt;span style=&#34;color:#66d9ef&#34;&gt;VALUES&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;fillmore&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;curly&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;INSERT&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;INTO&lt;/span&gt; dogs &lt;span style=&#34;color:#66d9ef&#34;&gt;VALUES&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;delano&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;long&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;hi!&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;INSERT&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;INTO&lt;/span&gt; dogs(fur, phrase) &lt;span style=&#34;color:#66d9ef&#34;&gt;VALUES&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;curly&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;bark&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;UPDATE&lt;/strong&gt;：修改现有记录。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;UPDATE&lt;/span&gt; [&lt;span style=&#34;color:#66d9ef&#34;&gt;table&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;SET&lt;/span&gt; [&lt;span style=&#34;color:#66d9ef&#34;&gt;column&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [expression] &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; [condition];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;e.&lt;span style=&#34;color:#66d9ef&#34;&gt;g&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;UPDATE&lt;/span&gt; dogs &lt;span style=&#34;color:#66d9ef&#34;&gt;SET&lt;/span&gt; phrase &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;WOOF&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; fur &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;curly&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;DELETE&lt;/strong&gt;：删除现有行。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;DELETE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; [&lt;span style=&#34;color:#66d9ef&#34;&gt;table&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; [condition];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;e.&lt;span style=&#34;color:#66d9ef&#34;&gt;g&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;DELETE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; dogs &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;herbert&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;做题技巧&#34;&gt;做题技巧&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;确定输入,输出,一列一列join&lt;/li&gt;
&lt;li&gt;有时可创建辅助表来帮助思考(&lt;code&gt;FROM&lt;/code&gt;后面加括号,写一串&lt;code&gt;SELECT&lt;/code&gt;语句)&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>SICP_scheme_笔记</title>
      <link>https://cloudymount789.github.io/blog/sicp_note_scheme/</link>
      <pubDate>Sat, 03 Jan 2026 12:47:38 +0800</pubDate>
      
      <guid>https://cloudymount789.github.io/blog/sicp_note_scheme/</guid>
      <description>&lt;p&gt;摘要&lt;/p&gt;
&lt;p&gt;本文为《计算机程序的构造和解释》（SICP，CS61A 南大引进版）scheme部分课程核心笔记，聚焦程序设计的底层逻辑与核心思想，旨在帮助学习者搭建“知其然更知其所以然”的编程认知框架。适合正在学习 CS61A 课程的学习者梳理知识体系，也可作为编程入门者夯实基础、理解程序设计本质的参考资料。&lt;/p&gt;
&lt;h1 id=&#34;sicp-note---scheme&#34;&gt;SICP Note -&amp;gt; Scheme&lt;/h1&gt;
&lt;h2 id=&#34;主题一scheme-基础与求值-scheme-basics-and-evaluation&#34;&gt;主题一：Scheme 基础与求值 (Scheme Basics and Evaluation)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;Scheme 是一种 Lisp 方言，其核心特点是程序由&lt;strong&gt;表达式 (Expressions)&lt;/strong&gt; 构成，并且代码与数据结构高度统一。理解 Scheme 的求值规则，尤其是&lt;strong&gt;调用表达式 (Call Expressions)&lt;/strong&gt; 和&lt;strong&gt;特殊形式 (Special Forms)&lt;/strong&gt; 的区别，是关键。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;核心概念&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-表达式的分类-types-of-expressions&#34;&gt;1. 表达式的分类 (Types of Expressions)&lt;/h4&gt;
&lt;p&gt;Scheme 程序由两种表达式构成 ：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;原子表达式 (Atomic Expressions / Atoms)&lt;/strong&gt; ：不可再分割的基本值。
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自求值 (Self-evaluating):&lt;/strong&gt; 数字 (&lt;code&gt;3&lt;/code&gt;, &lt;code&gt;-10&lt;/code&gt;)、布尔值 (&lt;code&gt;#t&lt;/code&gt;, &lt;code&gt;#f&lt;/code&gt;) 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;符号 (Symbols):&lt;/strong&gt; 绑定到值的名称 (&lt;code&gt;+&lt;/code&gt;, &lt;code&gt;modulo&lt;/code&gt;, &lt;code&gt;x&lt;/code&gt;) 。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;组合 (Combinations)&lt;/strong&gt;  ：形如 &lt;code&gt;(&amp;lt;operator&amp;gt; &amp;lt;operand1&amp;gt; &amp;lt;operand2&amp;gt; ...)&lt;/code&gt;  。它们是&lt;strong&gt;调用表达式&lt;/strong&gt;或&lt;strong&gt;特殊形式表达式&lt;/strong&gt; 。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-调用表达式求值-call-expression-evaluation&#34;&gt;2. 调用表达式求值 (Call Expression Evaluation)&lt;/h4&gt;
&lt;p&gt;调用表达式将一个过程 (Procedure) 应用于一组参数 (Arguments) 。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;求值三步法&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对 &lt;strong&gt;运算符 (Operator)&lt;/strong&gt; 求值，得到一个过程 。&lt;/li&gt;
&lt;li&gt;从左到右对所有 &lt;strong&gt;操作数 (Operands)&lt;/strong&gt; 求值，得到参数 。&lt;/li&gt;
&lt;li&gt;将过程应用于参数 。&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;例&lt;/strong&gt;：
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (- (+ &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt; (* &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)) (* &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;; 1. (* 4 6) -&amp;gt; 24&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;; 2. (+ 7 24) -&amp;gt; 31&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;; 3. (* 3 5) -&amp;gt; 15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;; 4. (- 31 15) -&amp;gt; 16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-特殊形式-special-forms&#34;&gt;3. 特殊形式 (Special Forms)&lt;/h4&gt;
&lt;p&gt;特殊形式的求值规则&lt;strong&gt;不同于&lt;/strong&gt;标准的调用表达式，它们的运算符（如 &lt;code&gt;define&lt;/code&gt;, &lt;code&gt;if&lt;/code&gt;, &lt;code&gt;lambda&lt;/code&gt;）&lt;strong&gt;不一定&lt;/strong&gt;先求值，且操作数&lt;strong&gt;不一定&lt;/strong&gt;全部求值 。&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;特殊形式&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;英文标注&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;语法&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;求值规则&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;定义&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;define&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;(define &amp;lt;name&amp;gt; &amp;lt;expr&amp;gt;)&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1.  求值 &lt;code&gt;&amp;lt;expr&amp;gt;&lt;/code&gt;  。 2. 将结果值绑定到当前框架的 &lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt; 上 。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;条件&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;if&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;(if &amp;lt;predicate&amp;gt; &amp;lt;if-true&amp;gt; &amp;lt;if-false&amp;gt;)&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1.  求值 &lt;code&gt;&amp;lt;predicate&amp;gt;&lt;/code&gt;  。 2. &lt;strong&gt;如果结果不是 &lt;code&gt;#f&lt;/code&gt;&lt;/strong&gt; (唯一 Falsy 值)  ，求值并返回 &lt;code&gt;&amp;lt;if-true&amp;gt;&lt;/code&gt;  ；否则求值并返回 &lt;code&gt;&amp;lt;if-false&amp;gt;&lt;/code&gt; 。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;过程&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;lambda&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;(lambda (&amp;lt;params&amp;gt;) &amp;lt;body&amp;gt;)&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;创建并返回一个 lambda 过程 (Procedure)&lt;/strong&gt;  。&lt;strong&gt;不求值&lt;/strong&gt;函数体 &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt;，函数体在过程被调用时才求值 。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;define&lt;/code&gt; 简化形式 (Function Shorthand)&lt;/strong&gt;:
&lt;code&gt;(define (square x) (* x x))&lt;/code&gt; 等同于 &lt;code&gt;(define square (lambda (x) (* x x)))&lt;/code&gt; 。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题二数据抽象pairs-与-lists-data-abstraction-pairs-and-lists&#34;&gt;主题二：数据抽象：Pairs 与 Lists (Data Abstraction: Pairs and Lists)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-1&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;Scheme 中唯一的序列类型是&lt;strong&gt;链表 (Linked List)&lt;/strong&gt;  。链表是通过基本的构建块&lt;strong&gt;对 (Pairs)&lt;/strong&gt; 构成的 。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;核心概念-core-concepts&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-对-pairs&#34;&gt;1. 对 (Pairs)&lt;/h4&gt;
&lt;p&gt;对是使用 &lt;code&gt;cons&lt;/code&gt; 表达式创建的基本结构。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;cons&lt;/code&gt;&lt;/strong&gt;: 构造一个对 。
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;(cons &amp;lt;first&amp;gt; &amp;lt;second&amp;gt;)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;car&lt;/code&gt;&lt;/strong&gt;: 选择对中的&lt;strong&gt;第一个元素&lt;/strong&gt; (Head) 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;cdr&lt;/code&gt;&lt;/strong&gt;: 选择对中的&lt;strong&gt;第二个元素&lt;/strong&gt; (Tail) 。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-链表-linked-lists&#34;&gt;2. 链表 (Linked Lists)&lt;/h4&gt;
&lt;p&gt;链表是通过递归地使用 &lt;code&gt;cons&lt;/code&gt; 构造对，并以特殊符号 &lt;code&gt;nil&lt;/code&gt; (空列表) 终止而形成的序列结构。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;nil&lt;/code&gt;&lt;/strong&gt;: 表示&lt;strong&gt;空列表 (Empty List)&lt;/strong&gt; 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;链表结构&lt;/strong&gt;：第二个元素 (&lt;code&gt;cdr&lt;/code&gt;) 必须是另一个对或 &lt;code&gt;nil&lt;/code&gt; 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;例题：链表构造&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (cons &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; (cons &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; nil))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;; 列表的表示形式&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;x (cons &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; (cons &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; nil)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (car x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (cdr x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;; 结果仍然是一个列表 (一个对，其 car 是 2，cdr 是 nil)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题三符号编程与引用-symbolic-programming-and-quotation&#34;&gt;主题三：符号编程与引用 (Symbolic Programming and Quotation)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-2&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;在 Scheme 中，符号 (Symbols) 通常求值为其绑定的值。&lt;strong&gt;引用 (Quotation)&lt;/strong&gt; 允许我们直接引用符号本身，而不是它的值 。这对于将 Scheme 代码结构作为数据处理（&lt;strong&gt;符号编程&lt;/strong&gt;）至关重要。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;核心概念-core-concepts-1&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-引用-quote-或-&#34;&gt;1. 引用 (&lt;code&gt;quote&lt;/code&gt; 或 &lt;code&gt;&#39;&lt;/code&gt;)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;作用&lt;/strong&gt;: 阻止表达式被求值，而是将表达式本身作为值返回 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用方式&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;长形式: &lt;code&gt;(quote &amp;lt;expr&amp;gt;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;短形式: &lt;code&gt;&#39;&amp;lt;expr&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;例题：引用符号&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;a &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (list a &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;; a 被求值为 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;; &amp;#39;a 被引用，求值为符号 a 本身&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-引用组合-quoting-combinations&#34;&gt;2. 引用组合 (Quoting Combinations)&lt;/h4&gt;
&lt;p&gt;引用也可以应用于组合表达式，使其成为一个&lt;strong&gt;列表数据结构&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;例题：引用列表&lt;/strong&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;(a b c)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt; b c) &lt;span style=&#34;color:#75715e&#34;&gt;; 返回列表 (a b c)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (car &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;(a b c))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a       &lt;span style=&#34;color:#75715e&#34;&gt;; car 选择列表的第一个元素&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (cdr &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;(a b c))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt; c)   &lt;span style=&#34;color:#75715e&#34;&gt;; cdr 选择列表的剩余部分&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题四尾递归-tail-recursion&#34;&gt;主题四：尾递归 (Tail Recursion)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-3&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;Scheme 语言不内置迭代 (Iteration) 结构，循环通常通过&lt;strong&gt;递归 (Recursion)&lt;/strong&gt; 实现 。&lt;strong&gt;尾递归 (Tail Recursion)&lt;/strong&gt; 是一种特殊的递归形式，支持尾调用优化 (Tail Call Optimization)，能像迭代一样高效运行，使用&lt;strong&gt;常数 (Constant)&lt;/strong&gt; 数量的帧 (Frames) 。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;核心概念-1&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-尾上下文与尾调用-tail-context-and-tail-call&#34;&gt;1. 尾上下文与尾调用 (Tail Context and Tail Call)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;尾上下文 (Tail Context)&lt;/strong&gt;: 表达式在尾上下文中，意味着它是在函数调用中求值的&lt;strong&gt;最后一步&lt;/strong&gt;。在它求值/应用之后，&lt;strong&gt;没有其他操作&lt;/strong&gt;会进行 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;尾调用 (Tail Call)&lt;/strong&gt;: 发生在尾上下文中的函数调用 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;尾递归 (Tail Recursion)&lt;/strong&gt;: 尾调用调用了&lt;strong&gt;函数自身&lt;/strong&gt; 。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-尾调用优化-tail-call-optimization-tco&#34;&gt;2. 尾调用优化 (Tail Call Optimization, TCO)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;如果 Scheme 语言支持 TCO，一个尾递归函数&lt;strong&gt;只会开启常数数量的帧&lt;/strong&gt;，从而避免栈溢出，效率等同于迭代。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-识别尾上下文-identifying-tail-contexts&#34;&gt;3. 识别尾上下文 (Identifying Tail Contexts)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;是尾上下文 (Tail Contexts)&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;lambda&lt;/code&gt;（函数）的&lt;strong&gt;最后一个 body 子表达式&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;if&lt;/code&gt; 中的 &lt;code&gt;&amp;lt;if-true&amp;gt;&lt;/code&gt; 和 &lt;code&gt;&amp;lt;if-false&amp;gt;&lt;/code&gt; (前提是 &lt;code&gt;if&lt;/code&gt; 表达式本身在尾上下文中)。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;and&lt;/code&gt;, &lt;code&gt;or&lt;/code&gt;, &lt;code&gt;begin&lt;/code&gt;, &lt;code&gt;let&lt;/code&gt; 中的&lt;strong&gt;最后一个子表达式&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;不是尾上下文 (Non-Tail Contexts)&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在 &lt;code&gt;*&lt;/code&gt;, &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;-&lt;/code&gt; 等操作符下作为&lt;strong&gt;操作数 (Operand)&lt;/strong&gt; 的递归调用。因为操作数求值后，还需要进行操作符的运算。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;例题：非尾递归阶乘 (Non-Tail Recursive Factorial)&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;fact&lt;/span&gt; n)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (&lt;span style=&#34;color:#66d9ef&#34;&gt;if &lt;/span&gt;(= n &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt; 递归调用 (&lt;span style=&#34;color:#a6e22e&#34;&gt;fact&lt;/span&gt; (- n &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)) 的结果必须和 n 相乘
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt; 因此 (&lt;span style=&#34;color:#a6e22e&#34;&gt;fact&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;) 不在尾上下文&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;需要保留帧 f1, f2, &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      (* n (&lt;span style=&#34;color:#a6e22e&#34;&gt;fact&lt;/span&gt; (- n &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)))))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-编写尾递归函数-writing-tail-recursive-functions&#34;&gt;4. 编写尾递归函数 (Writing Tail Recursive Functions)&lt;/h4&gt;
&lt;p&gt;要将非尾递归函数转换为尾递归，通常需要引入一个&lt;strong&gt;辅助函数 (Helper Function)&lt;/strong&gt; 和一个&lt;strong&gt;累加器 (Accumulator)&lt;/strong&gt; 参数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;目标&lt;/strong&gt;: 将所有等待的计算（例如上面的 &lt;code&gt;* n&lt;/code&gt;）作为参数，传递给下一次递归调用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;累加器 (Accumulator)&lt;/strong&gt;: 存储到目前为止的计算结果。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;例题：尾递归阶乘 (Tail Recursive Factorial)&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;fact&lt;/span&gt; n)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt; 引入辅助函数 fact-tail
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;fact-tail&lt;/span&gt; n result) &lt;span style=&#34;color:#75715e&#34;&gt;; result 就是累加器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    (&lt;span style=&#34;color:#66d9ef&#34;&gt;if &lt;/span&gt;(&amp;lt;= n &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        result
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt; 最后一步操作是 (&lt;span style=&#34;color:#a6e22e&#34;&gt;fact-tail&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;)&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt; 这是一个尾调用&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;无需保留当前帧&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;。&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        (&lt;span style=&#34;color:#a6e22e&#34;&gt;fact-tail&lt;/span&gt; (- n &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) (* n result)))) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (&lt;span style=&#34;color:#a6e22e&#34;&gt;fact-tail&lt;/span&gt; n &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt; 初始调用&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;累加器从 &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; 开始
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题五表达式作为数据-expressions-as-data&#34;&gt;主题五：表达式作为数据 (Expressions As Data)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-4&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;Scheme 的核心理念是&lt;strong&gt;代码即数据 (Code as Data)&lt;/strong&gt;。由于 Scheme 表达式（组合）本身就是列表，我们可以将代码结构当作普通数据来操作。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-2&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-表达式的表示与求值-representation-and-evaluation&#34;&gt;1. 表达式的表示与求值 (Representation and Evaluation)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;表达式的类型&lt;/strong&gt;: 在 Scheme 中，表达式要么是&lt;strong&gt;原始表达式 (primitive expressions)&lt;/strong&gt;，要么是&lt;strong&gt;列表 (lists)&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;引用 (Quoting)&lt;/strong&gt;: &lt;code&gt;‘&amp;lt;expr&amp;gt;&lt;/code&gt; 或 &lt;code&gt;(quote &amp;lt;expr&amp;gt;)&lt;/code&gt; 阻止表达式求值，返回表达式本身（即一个数据结构）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;eval&lt;/code&gt; 函数&lt;/strong&gt;: 接收一个&lt;strong&gt;未求值 (unevaluated)&lt;/strong&gt; 的表达式（数据），并对其进行求值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;例题&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;(+ &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;; 引用，返回列表数据&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(+ &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (eval &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;(+ &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)) &lt;span style=&#34;color:#75715e&#34;&gt;; 对该列表进行求值&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;表达式的操作&lt;/strong&gt;: 我们可以将表达式赋值给变量、作为参数传递给函数、甚至在函数内创建并返回新的表达式。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题六辅助特殊形式-auxiliary-special-forms&#34;&gt;主题六：辅助特殊形式 (Auxiliary Special Forms)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-5&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;begin&lt;/code&gt; 和 &lt;code&gt;let&lt;/code&gt; 是 Scheme 中常用的特殊形式，用于控制求值顺序和局部变量的创建。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-3&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-begin-顺序执行&#34;&gt;1. &lt;code&gt;begin&lt;/code&gt; (顺序执行)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;: &lt;code&gt;begin&lt;/code&gt; 接收任意数量的子表达式。它会按&lt;strong&gt;顺序 (in order)&lt;/strong&gt; 求值这些子表达式，并以&lt;strong&gt;最后一个子表达式&lt;/strong&gt;的值作为整个 &lt;code&gt;begin&lt;/code&gt; 表达式的值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;用途&lt;/strong&gt;: 当你需要在一个预期只有一个表达式的位置（如函数体）执行多个带有副作用的操作时，&lt;code&gt;begin&lt;/code&gt; 非常有用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;例题&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;begin &lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;x &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) (&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;x (+ x &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)) x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;; 返回最后一个表达式 x 的值&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-let-局部绑定&#34;&gt;2. &lt;code&gt;let&lt;/code&gt; (局部绑定)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;: &lt;code&gt;let&lt;/code&gt; 用于创建&lt;strong&gt;临时&lt;/strong&gt;的局部变量绑定，仅在 &lt;code&gt;let&lt;/code&gt; 的主体 (&lt;code&gt;body&lt;/code&gt;) 中有效。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;绑定规则&lt;/strong&gt;: 所有的 &lt;code&gt;symbol&lt;/code&gt; 都与其对应的 &lt;code&gt;expr&lt;/code&gt; 的值&lt;strong&gt;并行 (in parallel)&lt;/strong&gt; 绑定。这意味着一个绑定不能引用同一 &lt;code&gt;let&lt;/code&gt; 表达式中定义的其他绑定。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;let &lt;/span&gt;((&lt;span style=&#34;color:#a6e22e&#34;&gt;symbol1&lt;/span&gt; expr1)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      (&lt;span style=&#34;color:#a6e22e&#34;&gt;symbol2&lt;/span&gt; expr2)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;body&amp;gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;主题七宏原理-macro-principles&#34;&gt;主题七：宏原理 (Macro Principles)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-6&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;宏 (Macros) 是一种&lt;strong&gt;元编程 (Metaprogramming)&lt;/strong&gt; 工具，它允许用户在程序&lt;strong&gt;求值之前&lt;/strong&gt;转换程序的代码结构，从而扩展语言的语法。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-4&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-定义宏-define-macro&#34;&gt;1. 定义宏 (&lt;code&gt;define-macro&lt;/code&gt;)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;语法&lt;/strong&gt;: &lt;code&gt;(define-macro (&amp;lt;name&amp;gt; &amp;lt;params&amp;gt;) &amp;lt;body&amp;gt;)&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;宏与过程的区别&lt;/strong&gt;:&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;过程 (Procedure)&lt;/strong&gt;: 接收&lt;strong&gt;值 (values)&lt;/strong&gt; 作为参数，返回&lt;strong&gt;值&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;宏 (Macro)&lt;/strong&gt;: 接收&lt;strong&gt;表达式 (expressions)&lt;/strong&gt; 作为参数，返回&lt;strong&gt;表达式&lt;/strong&gt;（代码）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-宏的求值流程-macro-evaluation-核心考点&#34;&gt;2. 宏的求值流程 (Macro Evaluation) &lt;strong&gt;【核心考点】&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;宏调用的求值流程有别于普通函数调用：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;不求值操作数 (Operands Not Evaluated)&lt;/strong&gt;: 宏的操作数&lt;strong&gt;不会&lt;/strong&gt;像普通函数调用那样被求值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;传递表达式&lt;/strong&gt;: 操作数（表达式本身）作为参数传递给宏过程。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;宏转换&lt;/strong&gt;: 宏过程执行，返回一个新的&lt;strong&gt;表达式 (a new expression)&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;再次求值&lt;/strong&gt;: 解释器会立即对宏返回的&lt;strong&gt;新表达式&lt;/strong&gt;进行&lt;strong&gt;求值 (evaluated)&lt;/strong&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-宏的用途-writing-macros&#34;&gt;3. 宏的用途 (Writing Macros)&lt;/h4&gt;
&lt;p&gt;编写宏时，关键是思考&lt;strong&gt;具有等效行为的表达式是什么&lt;/strong&gt;。宏的目的是将自定义的语法转换为等效的 Scheme 基本语法。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;例题：&lt;code&gt;for&lt;/code&gt; 宏&lt;/strong&gt;: 转换 &lt;code&gt;(for x in &#39;(1 2 3 4) do (* x x))&lt;/code&gt; 为 &lt;code&gt;(map (lambda (x) (* x x)) &#39;(1 2 3 4))&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;define-macro&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt; sym in vals &lt;span style=&#34;color:#66d9ef&#34;&gt;do &lt;/span&gt;expr)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;map&lt;/span&gt; (list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;lambda&lt;/span&gt; (list sym) expr) vals))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;主题八准引用-quasi-quotation&#34;&gt;主题八：准引用 (Quasi-Quotation)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-7&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;在宏中，我们经常需要构造新的列表（表达式）。&lt;strong&gt;准引用 (Quasi-Quotation)&lt;/strong&gt; 允许在引用 (Quoting) 表达式的同时，有选择地对其中的部分子表达式进行求值，大大简化了代码生成。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-5&#34;&gt;核心概念&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;符号&lt;/th&gt;
          &lt;th&gt;英文标注&lt;/th&gt;
          &lt;th&gt;名称&lt;/th&gt;
          &lt;th&gt;作用&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;```&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Quasiquote&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;准引用&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;允许列表中的大部分内容被视为字面值（像 &lt;code&gt;quote&lt;/code&gt; 一样）。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;,&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Unquote&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;取消引用&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;必须出现在准引用 ```` 内部。紧跟其后的表达式会被&lt;strong&gt;求值&lt;/strong&gt;，然后将其值插入到构造的列表中。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;例题：使用准引用重写 &lt;code&gt;for&lt;/code&gt; 宏&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;define-macro&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt; sym vals expr)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;; 整个结构是准引用的 (`)，大部分是字面值&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;; ,sym, ,expr, ,vals 在宏应用时会被求值并替换到相应位置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;(map (&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda &lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;sym) &lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;expr) &lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;vals)) 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;(&lt;/code&gt;&lt;/strong&gt; 和 &lt;strong&gt;&lt;code&gt;map&lt;/code&gt;&lt;/strong&gt; 是字面符号。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;,sym&lt;/code&gt;&lt;/strong&gt; 求值结果是符号 &lt;code&gt;x&lt;/code&gt;，被插入到 &lt;code&gt;lambda&lt;/code&gt; 的参数列表中。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;,expr&lt;/code&gt;&lt;/strong&gt; 求值结果是表达式 &lt;code&gt;(* x x)&lt;/code&gt;，被插入到 &lt;code&gt;lambda&lt;/code&gt; 的函数体中。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;,vals&lt;/code&gt;&lt;/strong&gt; 求值结果是表达式 &lt;code&gt;&#39;(1 2 3 4)&lt;/code&gt;，被插入到 &lt;code&gt;map&lt;/code&gt; 的第二个参数位置。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;函数1:twice
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;方式1:正常函数
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;twice&lt;/span&gt; exp) (list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;begin&lt;/span&gt; exp exp))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;twice
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (eval (&lt;span style=&#34;color:#a6e22e&#34;&gt;twice&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;(print &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;方式2:macro
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;define-macro&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;twice&lt;/span&gt; exp) (list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;begin&lt;/span&gt; exp exp))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;twice
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;twice&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;即macro只是相当于省略了调用时需要的eval 和&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;方式3:准引用(&lt;span style=&#34;color:#a6e22e&#34;&gt;suger&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;define-macro&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;twice&lt;/span&gt; exp) &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;begin &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;exp &lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;exp))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;twice
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;twice&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;函数2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;define-macro&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;add-to&lt;/span&gt; sym exp) (list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;define&lt;/span&gt; sym (list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;+&lt;/span&gt; sym exp)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add-to
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;add-to&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;x&lt;/span&gt; (+ x &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;define-macro&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;add-to&lt;/span&gt; sym exp) &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;sym (+ &lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;sym &lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;exp)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;add-to
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;add-to&lt;/span&gt; x (+ x &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;62&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;函数3
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;define-macro&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt; sym in val &lt;span style=&#34;color:#66d9ef&#34;&gt;do &lt;/span&gt;exp) &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;(map (&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda &lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;sym) &lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;exp) &lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;val))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;for
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt; i in (list &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;do &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt; i))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;undefined&lt;/span&gt; undefined undefined)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;上面这行是map的返回值,即None,None,None&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;主题九惰性求值与流基础-lazy-evaluation--stream-basics&#34;&gt;主题九：惰性求值与流基础 (Lazy Evaluation &amp;amp; Stream Basics)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-8&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;流 (Streams)&lt;/strong&gt; 是 Scheme 中处理序列的一种方式。它与链表（List）非常相似，但核心区别在于：流的“剩余部分”（tail）只有在被显式要求时才会进行计算。这种机制被称为&lt;strong&gt;惰性求值 (Lazy Evaluation)&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-6&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-为什么需要流&#34;&gt;1. 为什么需要流？&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Python 对比&lt;/strong&gt;: Python 使用迭代器（Iterators）和生成器（Generators）来实现惰性求值，可以表示无限序列。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scheme 链表的局限&lt;/strong&gt;: 在标准链表中，&lt;code&gt;cons&lt;/code&gt; 的第二个参数总是会被立即求值。如果尝试递归定义无限链表，会导致 &lt;code&gt;maximum recursion depth exceeded&lt;/code&gt;（达到最大递归深度）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;流的优势&lt;/strong&gt;: 流允许我们表示巨大的甚至&lt;strong&gt;无限长 (infinitely long)&lt;/strong&gt; 的列表，因为它只在需要时计算下一个元素。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-流的构造与基本操作&#34;&gt;2. 流的构造与基本操作&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;cons-stream&lt;/code&gt;&lt;/strong&gt;: 构造一个流。其第二个参数是一个&lt;strong&gt;承诺 (Promise)&lt;/strong&gt;，不会立即求值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;car&lt;/code&gt;&lt;/strong&gt;: 获取流的第一个元素（与 List 相同）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;cdr-stream&lt;/code&gt;&lt;/strong&gt;: 获取流的剩余部分。这是关键操作：它会&lt;strong&gt;强制 (Force)&lt;/strong&gt; 履行承诺，计算并返回流的下一个部分。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;例题：流的表示&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;s (&lt;span style=&#34;color:#a6e22e&#34;&gt;cons-stream&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;cons-stream&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; nil)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;[promise (not forced)])  &lt;span style=&#34;color:#75715e&#34;&gt;; 第二部分显示为尚未强制的承诺&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (car s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;cdr-stream&lt;/span&gt; s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;[promise (not forced)])
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;主题十一无限流-infinite-streams&#34;&gt;主题十一：无限流 (Infinite Streams)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-9&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;由于流是惰性求值的，我们可以定义一个在逻辑上永远不会结束的序列。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-7&#34;&gt;核心概念&lt;/h3&gt;
&lt;h4 id=&#34;1-定义无限流&#34;&gt;1. 定义无限流&lt;/h4&gt;
&lt;p&gt;通过在 &lt;code&gt;cons-stream&lt;/code&gt; 的第二个参数中进行递归调用，可以创建一个无限序列。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;例题：整数流 (Integer Stream)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;ints&lt;/span&gt; first)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (&lt;span style=&#34;color:#a6e22e&#34;&gt;cons-stream&lt;/span&gt; first (&lt;span style=&#34;color:#a6e22e&#34;&gt;ints&lt;/span&gt; (+ first &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;))))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;s (&lt;span style=&#34;color:#a6e22e&#34;&gt;ints&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (car s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scm&amp;gt; (car (&lt;span style=&#34;color:#a6e22e&#34;&gt;cdr-stream&lt;/span&gt; s))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-使用高阶函数操作流&#34;&gt;2. 使用高阶函数操作流&lt;/h4&gt;
&lt;p&gt;我们可以像操作 List 一样编写流的操作函数，只需将 &lt;code&gt;cons&lt;/code&gt; 替换为 &lt;code&gt;cons-stream&lt;/code&gt;，将 &lt;code&gt;cdr&lt;/code&gt; 替换为 &lt;code&gt;cdr-stream&lt;/code&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;map-stream&lt;/code&gt; (流映射)&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;map-stream&lt;/span&gt; fn s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (&lt;span style=&#34;color:#66d9ef&#34;&gt;if &lt;/span&gt;(null? s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      nil
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      (&lt;span style=&#34;color:#a6e22e&#34;&gt;cons-stream&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;fn&lt;/span&gt; (car s))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                   (&lt;span style=&#34;color:#a6e22e&#34;&gt;map-stream&lt;/span&gt; fn (&lt;span style=&#34;color:#a6e22e&#34;&gt;cdr-stream&lt;/span&gt; s)))))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;filter-stream&lt;/code&gt; (流过滤)&lt;/strong&gt;:
只有当满足条件的元素被找到时，才会构造流的下一个 &lt;code&gt;car&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题十二流的高级应用-advanced-stream-applications&#34;&gt;主题十二：流的高级应用 (Advanced Stream Applications)&lt;/h2&gt;
&lt;h3 id=&#34;核心概念-core-concepts-2&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-递归定义的流-self-referencing-streams&#34;&gt;1. 递归定义的流 (Self-referencing Streams)&lt;/h4&gt;
&lt;p&gt;流可以引用自身来定义复杂的序列。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;全 1 流 (Ones)&lt;/strong&gt;: &lt;code&gt;(define ones (cons-stream 1 ones))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;整数流 (Integers)&lt;/strong&gt;:
通过将“全 1 流”与“当前整数流”相加得到下一个整数。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;ones (&lt;span style=&#34;color:#a6e22e&#34;&gt;cons-stream&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; ones))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;define &lt;/span&gt;ints (&lt;span style=&#34;color:#a6e22e&#34;&gt;cons-stream&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;add-stream&lt;/span&gt; ones ints)))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-流与列表的转换&#34;&gt;2. 流与列表的转换&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;stream-to-list&lt;/code&gt;&lt;/strong&gt;: 为了查看流的内容，通常需要将其转换为列表，并指定获取元素的数量（避免死循环）。&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>SICP_python_期中后笔记</title>
      <link>https://cloudymount789.github.io/blog/sicp_note_after_mid/</link>
      <pubDate>Sat, 03 Jan 2026 12:47:27 +0800</pubDate>
      
      <guid>https://cloudymount789.github.io/blog/sicp_note_after_mid/</guid>
      <description>&lt;p&gt;摘要&lt;/p&gt;
&lt;p&gt;本文为《计算机程序的构造和解释》（SICP，CS61A 南大引进版）python部分期中后课程核心笔记，聚焦程序设计的底层逻辑与核心思想，旨在帮助学习者搭建“知其然更知其所以然”的编程认知框架。适合正在学习 CS61A 课程的学习者梳理知识体系，也可作为编程入门者夯实基础、理解程序设计本质的参考资料。&lt;/p&gt;
&lt;h1 id=&#34;sicp_python_期中后笔记&#34;&gt;SICP_python_期中后笔记&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&#34;拓展&#34;&gt;拓展&lt;/h2&gt;
&lt;h3 id=&#34;1-imperative-programming命令式编程&#34;&gt;1. Imperative Programming（命令式编程）&lt;/h3&gt;
&lt;h4 id=&#34;核心思想&#34;&gt;核心思想&lt;/h4&gt;
&lt;p&gt;通过一系列指令（statements）改变程序的状态（state）来完成计算。
关注 HOW（具体步骤）。&lt;/p&gt;
&lt;h4 id=&#34;特征&#34;&gt;特征&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;有可变变量（variables）&lt;/li&gt;
&lt;li&gt;通过赋值（assignment）改变状态&lt;/li&gt;
&lt;li&gt;使用控制结构（control flow）：if / for / while&lt;/li&gt;
&lt;li&gt;程序表现为逐步执行的过程&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;常见语言&#34;&gt;常见语言&lt;/h4&gt;
&lt;p&gt;C、C++、Java、Python、JavaScript、Go、Rust&lt;/p&gt;
&lt;h4 id=&#34;适用场景&#34;&gt;适用场景&lt;/h4&gt;
&lt;p&gt;操作系统、游戏开发、需要精确流程控制或高性能的系统&lt;/p&gt;
&lt;h3 id=&#34;2-functional-programming函数式编程&#34;&gt;2. Functional Programming（函数式编程）&lt;/h3&gt;
&lt;h4 id=&#34;核心思想-1&#34;&gt;核心思想&lt;/h4&gt;
&lt;p&gt;以数学函数为基础，不依赖可变状态，通过函数组合完成计算。
关注 WHAT（要做什么）。&lt;/p&gt;
&lt;h4 id=&#34;特征-1&#34;&gt;特征&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;不可变性（immutability）&lt;/li&gt;
&lt;li&gt;纯函数（pure functions），无副作用（side effects）&lt;/li&gt;
&lt;li&gt;函数是一等公民（first-class functions）&lt;/li&gt;
&lt;li&gt;常用递归（recursion）&lt;/li&gt;
&lt;li&gt;map / filter / reduce 是典型操作&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;常见语言-1&#34;&gt;常见语言&lt;/h4&gt;
&lt;p&gt;Haskell、Lisp、OCaml、F#；Python/JavaScript 可写函数式风格&lt;/p&gt;
&lt;h4 id=&#34;示例python&#34;&gt;示例（Python）&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;numbers &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; list(map(&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt; x: x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, numbers))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;适用场景-1&#34;&gt;适用场景&lt;/h4&gt;
&lt;p&gt;数学计算、并行计算、金融系统、需要高可预测性的程序&lt;/p&gt;
&lt;h3 id=&#34;3-logic-programming逻辑式编程&#34;&gt;3. Logic Programming（逻辑式编程）&lt;/h3&gt;
&lt;h4 id=&#34;核心思想-2&#34;&gt;核心思想&lt;/h4&gt;
&lt;p&gt;使用事实（facts）和规则（rules）描述问题，由系统进行自动推理（inference）。
关注 WHAT（描述规则），系统决定 HOW（如何推导）。&lt;/p&gt;
&lt;h4 id=&#34;特征-2&#34;&gt;特征&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;程序由 facts + rules + queries 组成&lt;/li&gt;
&lt;li&gt;基于一阶逻辑（first-order logic）&lt;/li&gt;
&lt;li&gt;使用分辨率（resolution）进行推理&lt;/li&gt;
&lt;li&gt;强调声明式描述&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;常见语言-2&#34;&gt;常见语言&lt;/h4&gt;
&lt;p&gt;Prolog（代表性语言）&lt;/p&gt;
&lt;h4 id=&#34;示例prolog&#34;&gt;示例（Prolog）&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-prolog&#34; data-lang=&#34;prolog&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;parent&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;tom&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;bob&lt;/span&gt;).
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;parent&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;bob&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;ann&lt;/span&gt;).
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;grandparent&lt;/span&gt;(X, Y) :- &lt;span style=&#34;color:#a6e22e&#34;&gt;parent&lt;/span&gt;(X, Z), &lt;span style=&#34;color:#a6e22e&#34;&gt;parent&lt;/span&gt;(Z, Y).
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;适用场景-2&#34;&gt;适用场景&lt;/h4&gt;
&lt;p&gt;人工智能、知识库、规则引擎、专家系统&lt;/p&gt;
&lt;h3 id=&#34;4-三种范式对比总结&#34;&gt;4. 三种范式对比总结&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;范式&lt;/th&gt;
          &lt;th&gt;核心思想&lt;/th&gt;
          &lt;th&gt;状态 State&lt;/th&gt;
          &lt;th&gt;特征关键词&lt;/th&gt;
          &lt;th&gt;示例语言&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;命令式 Imperative&lt;/td&gt;
          &lt;td&gt;通过指令改变状态（HOW）&lt;/td&gt;
          &lt;td&gt;可变&lt;/td&gt;
          &lt;td&gt;assignment, loops, control flow&lt;/td&gt;
          &lt;td&gt;C, Java, Python&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;函数式 Functional&lt;/td&gt;
          &lt;td&gt;用函数组合描述计算（WHAT）&lt;/td&gt;
          &lt;td&gt;不可变&lt;/td&gt;
          &lt;td&gt;pure functions, immutability, recursion&lt;/td&gt;
          &lt;td&gt;Haskell, Lisp&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;逻辑式 Logic&lt;/td&gt;
          &lt;td&gt;用规则推理得到结果（WHAT）&lt;/td&gt;
          &lt;td&gt;无显式状态&lt;/td&gt;
          &lt;td&gt;facts, rules, queries, inference&lt;/td&gt;
          &lt;td&gt;Prolog&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id=&#34;编译器理解-词法---语法---语义&#34;&gt;编译器理解: 词法 -&amp;gt; 语法 -&amp;gt; 语义&lt;/h3&gt;
&lt;h4 id=&#34;lexical词法&#34;&gt;Lexical（词法）&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;把字符拆成最小有意义单位（token）。&lt;/strong&gt;
识别：变量名、关键字、数字、字符串、运算符、符号等。
作用：告诉编译器“这串字符是什么词”。&lt;/p&gt;
&lt;h4 id=&#34;syntax语法&#34;&gt;Syntax（语法）&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;检查 token 是否能组成合法的结构。&lt;/strong&gt;
作用：决定一句代码的结构是否符合语言规则（是否“通顺”）。&lt;/p&gt;
&lt;h4 id=&#34;semantics语义&#34;&gt;Semantics（语义）&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;代码表达的实际含义与执行效果。&lt;/strong&gt;
作用：定义语句运行后会做什么、得到什么结果。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;代码风格类型提示type-hint&#34;&gt;代码风格:类型提示(type hint)&lt;/h2&gt;
&lt;p&gt;检查 Python 版本：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import platform
print(platform.python_version())
3.12.7
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;安装 MyPy ：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ python -m pip install mypy
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;使用 MyPy 进行类型检查：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ mypy program.py
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;1-变量-variables&#34;&gt;1. 变量 (Variables)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;声明变量类型&lt;/strong&gt;
使用冒号 &lt;code&gt;:&lt;/code&gt; 来声明变量类型。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;age: int &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;未初始化的变量注解&lt;/strong&gt;
不需要立即给变量赋值即可添加注解。这在条件分支赋值中非常有用（运行时直到赋值前没有具体值）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a: int  &lt;span style=&#34;color:#75715e&#34;&gt;# 合法&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 示例：在条件分支中使用&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;child: bool
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; age &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    child &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    child &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;2-常用的内置类型-useful-built-in-types&#34;&gt;2. 常用的内置类型 (Useful Built-In Types)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;基本类型&lt;/strong&gt;
大多数情况下，直接使用类型名称即可。
&lt;em&gt;注意：mypy 通常能推断出变量类型，因此显式注解在技术上是冗余的，但有助于代码清晰。&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: int &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: float &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: bool &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: bytes &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;b&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;集合类型 (Collections) - Python 3.9+&lt;/strong&gt;
集合内元素的类型放在方括号 &lt;code&gt;[]&lt;/code&gt; 中。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;列表 (List):&lt;/strong&gt; &lt;code&gt;x: list[int] = [1]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;集合 (Set):&lt;/strong&gt; &lt;code&gt;x: set[int] = {6, 7}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;映射类型 (Mappings)&lt;/strong&gt;
需要同时指定键 (Key) 和值 (Value) 的类型。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;字典 (Dict):&lt;/strong&gt; &lt;code&gt;x: dict[str, float] = {&amp;quot;field&amp;quot;: 2.0}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;元组 (Tuples)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;固定大小:&lt;/strong&gt; 需要指定所有元素的类型。
&lt;code&gt;x: tuple[int, str, float] = (3, &amp;quot;yes&amp;quot;, 7.5)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;可变大小:&lt;/strong&gt; 使用一种类型加上省略号 &lt;code&gt;...&lt;/code&gt;。
&lt;code&gt;x: tuple[int, ...] = (1, 2, 3)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;联合类型 (Union Types) - Python 3.10+&lt;/strong&gt;
当值可能是多种类型之一时，使用 &lt;code&gt;|&lt;/code&gt; 运算符。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: list[int &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; str] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fun&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;可选类型 (Optional Types)&lt;/strong&gt;
对于可能为 &lt;code&gt;None&lt;/code&gt; 的值，使用 &lt;code&gt;X | None&lt;/code&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: str &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;something&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; some_condition() &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 类型缩窄 (Type Narrowing)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(x&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;upper())  &lt;span style=&#34;color:#75715e&#34;&gt;# Mypy 知道此处 x 不为 None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 如果逻辑上确定不为 None 但 mypy 无法推断，可使用 assert&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;assert&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(x&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;upper())
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;3-函数-functions&#34;&gt;3. 函数 (Functions)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;函数定义注解&lt;/strong&gt;
使用 &lt;code&gt;-&amp;gt;&lt;/code&gt; 指定返回类型。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stringify&lt;/span&gt;(num: int) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; str:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; str(num)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;多个参数&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;plus&lt;/span&gt;(num1: int, num2: int) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; int:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; num1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; num2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;无返回值&lt;/strong&gt;
如果函数不返回值，返回类型使用 &lt;code&gt;None&lt;/code&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;默认值:&lt;/strong&gt; 参数的默认值写在类型注解之后。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;show&lt;/span&gt;(value: str, excitement: int &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(value &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;!&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; excitement)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;动态类型 (Dynamic Typing)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;未指定类型的参数会被视为 &lt;code&gt;Any&lt;/code&gt;（动态类型）。&lt;/li&gt;
&lt;li&gt;没有任何注解的函数不会被类型检查器检查。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;untyped&lt;/span&gt;(x):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    x&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;anything() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;string&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# 不会报错&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;可调用对象 (Callables)&lt;/strong&gt;
用于注解函数作为参数传递的情况（需要从 &lt;code&gt;collections.abc&lt;/code&gt; 导入）。
格式：&lt;code&gt;Callable[[参数类型列表], 返回类型]&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; collections.abc &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Callable
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;(x: int, y: float) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; float:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; y
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x: Callable[[int, float], float] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;生成器 (Generators)&lt;/strong&gt;
生成器函数实际上是返回一个迭代器，因此使用 &lt;code&gt;Iterator&lt;/code&gt; 进行注解。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; collections.abc &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Iterator
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;gen&lt;/span&gt;(n: int) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; Iterator[int]:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; n:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;yield&lt;/span&gt; i
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        i &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;多行函数注解&lt;/strong&gt;
当参数较多时，可以将注解拆分为多行。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;send_email&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    address: str &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; list[str],
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sender: str,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    cc: list[str] &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    bcc: list[str] &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    subject: str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    body: list[str] &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; bool:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;主题-1面向对象编程基础-object-oriented-programming-oop&#34;&gt;主题 1：面向对象编程基础 (Object-Oriented Programming, OOP)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述&#34;&gt;主题概述&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OOP 是一种组织程序的方法，将数据（&lt;strong&gt;属性 Attributes&lt;/strong&gt;）和行为（&lt;strong&gt;方法 Methods&lt;/strong&gt;）捆绑在一起。每个对象拥有自己的&lt;strong&gt;局部状态 (Local State)&lt;/strong&gt;，不同对象之间通过方法调用进行交互。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这是一种以“对象（objects）”为中心的程序设计方法。对象把数据（属性 attributes）和操作这些数据的行为（方法 methods）封装在一起，通过对象之间的交互来完成程序的功能。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每个对象都有两个特点：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;它有什么（属性 / 数据）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;它能做什么（行为 / 方法）&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;OOP 的三要素（经典版本）&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;封装（Encapsulation）：把数据与操作封在对象内部，对外提供有限接口。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;继承（Inheritance）：子类可以继承父类的属性和方法，实现代码复用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多态（Polymorphism）：同一方法名在不同对象上有不同实现，运行时动态决定调用哪个版本。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;一句话总结&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;正经版：&lt;em&gt;&lt;strong&gt;OOP = 用对象来组织程序，数据 + 行为一起封装，通过继承复用，通过多态扩展。&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;形象版：&lt;em&gt;&lt;strong&gt;OOP = 把程序写成一堆“现实世界中的小东西”，每个东西都有属性、有行为，它们互相合作，程序就跑起来了。&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;创建对象，让对象自己按照规则做事&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-类与实例-classes-and-instances&#34;&gt;1. 类与实例 (Classes and Instances)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;类 (Class)&lt;/strong&gt;: 对象的模板。定义了所有实例共享的属性和行为。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;实例 (Instance)&lt;/strong&gt;: 类的具体实现。例如，&lt;code&gt;Account&lt;/code&gt; 是类，&lt;code&gt;tom_account&lt;/code&gt; 是一个实例。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;构造函数 (&lt;code&gt;__init__&lt;/code&gt;)&lt;/strong&gt;: 当创建一个新实例时自动调用的方法，用于初始化实例属性。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;self&lt;/code&gt;&lt;/strong&gt;: 指向&lt;strong&gt;当前正在被操作的实例&lt;/strong&gt;。在类内部定义方法时，第一个参数通常是 &lt;code&gt;self&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-属性查找机制-attribute-lookup&#34;&gt;2. 属性查找机制 (Attribute Lookup)&lt;/h4&gt;
&lt;p&gt;当我们求值 &lt;code&gt;&amp;lt;expression&amp;gt;.&amp;lt;name&amp;gt;&lt;/code&gt; 时，解释器遵循以下顺序：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;求值&lt;/strong&gt;点号左边的 &lt;code&gt;&amp;lt;expression&amp;gt;&lt;/code&gt;，得到一个对象。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;查找实例属性&lt;/strong&gt;: 在该对象的实例属性中查找 &lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt;。如果找到，返回其值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;查找类属性&lt;/strong&gt;: 如果实例中没找到，去创建该对象的&lt;strong&gt;类&lt;/strong&gt;中查找。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;查找父类&lt;/strong&gt;: 如果类中没找到，沿着继承链向上查找。&lt;/li&gt;
&lt;li&gt;如果找到的是一个函数，则返回一个&lt;strong&gt;绑定方法 (Bound Method)&lt;/strong&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt; &lt;strong&gt;赋值操作&lt;/strong&gt; (&lt;code&gt;obj.x = 1&lt;/code&gt;) 总是会在&lt;strong&gt;实例&lt;/strong&gt;上创建或修改属性，而不会修改类属性。&lt;/p&gt;&lt;/blockquote&gt;
&lt;h4 id=&#34;3-点表达式的评估evaluation-of-dot-expression&#34;&gt;3. 点表达式的评估（Evaluation of Dot Expression）&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;expression&amp;gt;.&amp;lt;name&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;求值点号左侧expression，返回对象&lt;/li&gt;
&lt;li&gt;将 &lt;!-- raw HTML omitted --&gt; 与该对象的实例属性进行匹配；如果存在具有该名称的属性，则返回其值。&lt;/li&gt;
&lt;li&gt;否则，在类中一层一层向上查找 &lt;!-- raw HTML omitted --&gt; ，这将产生一个类属性值（如果不存在这样的类属性，则会报告 AttributeError）。&lt;/li&gt;
&lt;li&gt;不是函数 -&amp;gt; 返回该值；&lt;/li&gt;
&lt;li&gt;是函数 -&amp;gt; 返回绑定方法，且将self传入第一个参数。&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;例题&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;例1: &lt;strong&gt;封装（Encapsulation）&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Why we need Encapsulation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Protect data security&lt;/li&gt;
&lt;li&gt;Reduce coupling&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;例1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# class attribute&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    interest &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.02&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# constructor&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt;(self, account_holder): 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;balance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# instance attribute&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;holder &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; account_holder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# methods&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;deposit&lt;/span&gt;(self, amount): 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;balance &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; amount
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;balance
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;withdraw&lt;/span&gt;(self, amount):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; amount &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;balance:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Insufficient funds&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;balance &lt;span style=&#34;color:#f92672&#34;&gt;-=&lt;/span&gt; amount
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;balance
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;jacy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Account(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Jacy&amp;#39;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;gt;&amp;gt;&amp;gt; jacy.balance
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;gt;&amp;gt;&amp;gt; jacy.deposit(10)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;10
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;gt;&amp;gt;&amp;gt; jacy.withdraw(5)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;5
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;例2：&lt;strong&gt;类属性查找（Class attribute lookup）&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;If it names an attribute in the class, return the attribute value.
如果它指定了类中的一个属性，则返回该属性的值。&lt;/li&gt;
&lt;li&gt;Otherwise, look up the name in the base class, if there is one.
否则，在基类中查找该名称（如果有的话）。&lt;/li&gt;
&lt;/ol&gt;&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;例2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;A&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    z &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;(self, x):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; B(x &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;A()&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;(A):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    n &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt; (self, y):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; y:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;f(y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; C(y &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;B(z=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;C&lt;/span&gt;(B):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;f&lt;/span&gt;(self, x):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C(z=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; A()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; B(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;n &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; C(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; a&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; C&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; a&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;B(z&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;B(z&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;C(z&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#为什么C的z是1呢？&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#B中的z是一个instance attribute，理论上C在B中找不到不应该去A中找然后得到z=-1吗？&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#因为C没有init！！！所以C在创建instance 的时候就会调用一次B的init，&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#从而在执行init的时候获得一个z！&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#C 继承 B 的 init ，所以走 B.init：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# y = 1   非零&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# self.z = self.f(1)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 但这次 self 是 C 的实例，所以调用的是 C.f：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# C.f(self, 1) → return 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 因此：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# C(1).z = 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;B(z&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;C(z&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;C(z&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;z
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Traceback (most recent call last):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  File &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;, line &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;module&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;AttributeError&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;int&amp;#39;&lt;/span&gt; object has no attribute &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;z&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;拓展lsp-里氏替换原则&#34;&gt;&lt;strong&gt;拓展:LSP: 里氏替换原则：&lt;/strong&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;凡是出现基类的地方，都可以用子类替换它，而不会影响程序的功能。&lt;/li&gt;
&lt;li&gt;这意味着子类可以使用基类的所有操作而不出现问题&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt;class T:
...    pass
...class S(T): # inheritance creats subtypes
...    pass
&amp;gt;&amp;gt;&amp;gt;t = T()
&amp;gt;&amp;gt;&amp;gt;s = S()	
&amp;gt;&amp;gt;&amp;gt;isinstance(t, T)	
True	
&amp;gt;&amp;gt;&amp;gt;isinstance(s, S)	
True
&amp;gt;&amp;gt;&amp;gt;isinstance(s, T)	
True
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;3-方法-methods&#34;&gt;3. 方法 (Methods)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;函数 (Function)&lt;/strong&gt;: 也就是普通的 Python 函数。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;绑定方法 (Bound Method)&lt;/strong&gt;: 将函数与特定对象（实例）“绑定”在一起。调用时，Python 会自动将该对象作为第一个参数 (&lt;code&gt;self&lt;/code&gt;) 传入。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Account.deposit&lt;/code&gt; 是函数 (Function)。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tom.deposit&lt;/code&gt; 是方法 (Method)。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题-2继承与组合-inheritance--composition&#34;&gt;主题 2：继承与组合 (Inheritance &amp;amp; Composition)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-1&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;继承允许我们基于已有的类创建新类，实现代码复用和特化。组合则是通过将其他对象作为属性来实现复杂功能。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts-1&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-继承-inheritance&#34;&gt;1. 继承 (Inheritance)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;子类 (Subclass)&lt;/strong&gt; 继承 &lt;strong&gt;基类 (Base Class)&lt;/strong&gt; 的所有属性和方法。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;重写 (Overriding)&lt;/strong&gt;: 子类可以重新定义与父类同名的方法，从而改变行为。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;super()&lt;/code&gt;&lt;/strong&gt;: 用于在子类中调用父类的方法，常用于扩展 &lt;code&gt;__init__&lt;/code&gt; 或复用父类逻辑。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;代码示例&lt;/strong&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CheckingAccount&lt;/span&gt;(Account): &lt;span style=&#34;color:#75715e&#34;&gt;# 继承 Account&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    withdraw_fee &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    interest &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.01&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;withdraw&lt;/span&gt;(self, amount):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# 复用父类的 withdraw 方法，加上手续费&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Account&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;withdraw(self, amount &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;withdraw_fee)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-多重继承-multiple-inheritance&#34;&gt;2. 多重继承 (Multiple Inheritance)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;一个类可以继承自多个父类。&lt;/li&gt;
&lt;li&gt;拓展：&lt;strong&gt;菱形问题 (Diamond Problem)&lt;/strong&gt;: 当多个父类继承自同一个祖先时，Python 使用 &lt;strong&gt;C3 线性化算法&lt;/strong&gt; 确定 &lt;strong&gt;方法解析顺序 (MRO)&lt;/strong&gt;，确保每个类只被访问一次。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-继承-vs-组合-inheritance-vs-composition&#34;&gt;3. 继承 vs. 组合 (Inheritance vs. Composition)&lt;/h4&gt;
&lt;p&gt;这是面向对象设计的核心权衡：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;继承 (&amp;ldquo;Is-a&amp;rdquo; 关系)&lt;/strong&gt;: &lt;code&gt;CheckingAccount&lt;/code&gt; &lt;strong&gt;是一个&lt;/strong&gt; &lt;code&gt;Account&lt;/code&gt;。用于特化。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;组合 (&amp;ldquo;Has-a&amp;rdquo; 关系)&lt;/strong&gt;: &lt;code&gt;Bank&lt;/code&gt; &lt;strong&gt;有一个&lt;/strong&gt; &lt;code&gt;Account&lt;/code&gt; 列表。用于通过聚合现有组件来构建复杂对象。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题-3多态ploymorphism&#34;&gt;主题 3：多态(Ploymorphism)&lt;/h2&gt;
&lt;h3 id=&#34;分类&#34;&gt;分类&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;特设多态（Ad Hoc Ploymorphism）：同名methon但是不同实现规则
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;操作符重载（operator overloading）: 同样运算符，不同操作方式&lt;/p&gt;
&lt;p&gt;e.g.
&lt;code&gt;x + y&lt;/code&gt; 本质上是 &lt;code&gt;x.__add__(y)&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;x == y&lt;/code&gt; 本质上是 &lt;code&gt;x.__eq__(y)&lt;/code&gt; 。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多态函数（polymorphism）: 函数根据输入类型改变行为&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;参数多态（parametric polymorphism）: 泛型多态（拓展）&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; typing &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; TypeVar, List
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;T &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; TypeVar(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;T&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;first&lt;/span&gt;(lst: List[T]) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; T:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; lst[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;包含多态（inclusion polymorphism）: 继承多态，子类代替父类使用&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题-4特殊方法-special-methods&#34;&gt;主题 4：特殊方法 (Special Methods)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-2&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;特殊方法（也称魔术方法，以双下划线开头和结尾）允许自定义对象表现得像 Python 的内置类型。这是实现 &lt;strong&gt;多态 (Polymorphism)&lt;/strong&gt; 的关键。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts-2&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-字符串表示repr--str&#34;&gt;1. 字符串表示(repr &amp;amp; str)&lt;/h4&gt;
&lt;h5 id=&#34;区别&#34;&gt;区别&lt;/h5&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;方法&lt;/th&gt;
          &lt;th&gt;英文&lt;/th&gt;
          &lt;th&gt;目标受众&lt;/th&gt;
          &lt;th&gt;触发方式&lt;/th&gt;
          &lt;th&gt;默认行为&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;&lt;code&gt;__str__&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;String&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;人类 (Human)&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;print()&lt;/code&gt;, &lt;code&gt;str()&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;如果没定义，会调用 &lt;code&gt;__repr__&lt;/code&gt;。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;&lt;code&gt;__repr__&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;Representation&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;解释器 (Interpreter)&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;交互式环境, &lt;code&gt;repr()&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;返回对象的规范字符串表示，理想情况下 &lt;code&gt;eval(repr(obj)) == obj&lt;/code&gt;。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;例题&#34;&gt;&lt;strong&gt;例题&lt;/strong&gt;：&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Fraction&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt;(self, n, d): self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;n, self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;d &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; n, d
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self): &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Fraction(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;n&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;d&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__str__&lt;/span&gt;(self): &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;n&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;d&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;f &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Fraction(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(f)       &lt;span style=&#34;color:#75715e&#34;&gt;# 输出: 1/2 (调用 __str__)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;f              &lt;span style=&#34;color:#75715e&#34;&gt;# 输出: Fraction(1, 2) (调用 __repr__)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;易错关于引号&#34;&gt;[易错]关于引号&amp;hellip;&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;str&lt;/code&gt;和&lt;code&gt;repr&lt;/code&gt;的区别&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;函数&lt;/th&gt;
          &lt;th&gt;目的&lt;/th&gt;
          &lt;th&gt;面向对象&lt;/th&gt;
          &lt;th&gt;输出特点&lt;/th&gt;
          &lt;th&gt;是否显示引号&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;str(obj)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;面向用户（友好展示）&lt;/td&gt;
          &lt;td&gt;用户&lt;/td&gt;
          &lt;td&gt;可读性强、简洁&lt;/td&gt;
          &lt;td&gt;❌ 不显示引号&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;repr(obj)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;面向开发、调试&lt;/td&gt;
          &lt;td&gt;程序员&lt;/td&gt;
          &lt;td&gt;尽可能准确、可复现&lt;/td&gt;
          &lt;td&gt;✅ 显示引号（字符串时）&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;示例&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;s &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(str(s))   &lt;span style=&#34;color:#75715e&#34;&gt;# hello&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(repr(s))  &lt;span style=&#34;color:#75715e&#34;&gt;# &amp;#39;hello&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;repr&lt;/code&gt; 的目标是 &lt;strong&gt;让结果能用于重新构造对象&lt;/strong&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;eval(repr(s)) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; s  &lt;span style=&#34;color:#75715e&#34;&gt;# True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;code&gt;print()&lt;/code&gt;和交互式解释器输出的区别&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;方式&lt;/th&gt;
          &lt;th&gt;内部调用&lt;/th&gt;
          &lt;th&gt;引号是否显示&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;print(obj)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;str(obj)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;❌ 不显示引号&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;在交互式解释器直接输入表达式&lt;/td&gt;
          &lt;td&gt;显示 &lt;code&gt;repr(obj)&lt;/code&gt; 的结果&lt;/td&gt;
          &lt;td&gt;✅ 显示引号（字符串时）&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;示例：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在 REPL 中：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hello
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;自定义类的 &lt;code&gt;__str__&lt;/code&gt; 和 &lt;code&gt;__repr__&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果类同时定义了 &lt;code&gt;__str__&lt;/code&gt; 和 &lt;code&gt;__repr__&lt;/code&gt;：&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;调用者&lt;/th&gt;
          &lt;th&gt;优先使用的方法&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;print(obj)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;__str__&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;解释器直接显示&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;__repr__&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;eval() 是 Python 内置函数，用来 将字符串当作 Python 表达式求值，然后返回表达式的结果。&lt;/strong&gt;
示例：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;A&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__str__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;str display&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;repr display&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; A()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(a)   &lt;span style=&#34;color:#75715e&#34;&gt;# str display&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a          &lt;span style=&#34;color:#75715e&#34;&gt;# repr display&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#没有引号!!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;repr函数会将接收到的参数变成一个字符串交给交互式解释器,然后交互式解释器去掉最外一层引号的内容把字符串里的内容显示出来&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; a
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; repr(a)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; repr(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#39;1&amp;#39;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; eval(repr(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; eval(repr(a))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; eval(a)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Traceback (most recent call last):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  File &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span&gt;, line &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;module&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    eval(a)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;~~~~^^^&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;TypeError&lt;/span&gt;: eval() arg &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; must be a string, bytes &lt;span style=&#34;color:#f92672&#34;&gt;or&lt;/span&gt; code object
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;检验理解!&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;A&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt;(self, x):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__str__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;x &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;B&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;boo!&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add_a&lt;/span&gt;(self, a):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;a&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(a)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         print(len(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;a))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         ret &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;a:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;              ret &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; str(a)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;         &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; ret
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; A(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;one&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;?&lt;/span&gt; one
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; print(A(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;one&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;?&lt;/span&gt; oneone
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; repr(A(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;two&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;?&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;two&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; B()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;?&lt;/span&gt; boo&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_a(A(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_a(A(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;b&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(line &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;?&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(line &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;?&lt;/span&gt; aabb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;repr()&lt;/code&gt; 的用途总结&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;用途&lt;/th&gt;
          &lt;th&gt;示例&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;调试&lt;/td&gt;
          &lt;td&gt;显示数据结构的真实内容&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;可复现性&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;eval(repr(obj)) == obj&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;字符串包含特殊字符时的转义展示&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;&#39;hello\n&#39;&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h4 id=&#34;2-运算符重载-operator-overloading&#34;&gt;2. 运算符重载 (Operator Overloading)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;__add__&lt;/code&gt;&lt;/strong&gt;: 定义 &lt;code&gt;+&lt;/code&gt; 操作符的行为。例如 &lt;code&gt;obj1 + obj2&lt;/code&gt; 会变成 &lt;code&gt;obj1.__add__(obj2)&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多态 (Polymorphism)&lt;/strong&gt;: 同一个操作符（如 &lt;code&gt;+&lt;/code&gt;）可以根据操作数类型的不同（如整数相加 vs. 字符串拼接）表现出不同的行为。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;主题-4递归数据结构-linked-lists--trees&#34;&gt;主题 4：递归数据结构 (Linked Lists &amp;amp; Trees)&lt;/h2&gt;
&lt;h3 id=&#34;主题概述-3&#34;&gt;主题概述&lt;/h3&gt;
&lt;p&gt;链表和树是基于&lt;strong&gt;递归 (Recursion)&lt;/strong&gt; 定义的数据结构。它们是 CS61A 中处理复杂数据的基石。&lt;/p&gt;
&lt;h3 id=&#34;核心概念-core-concepts-3&#34;&gt;核心概念 (Core Concepts)&lt;/h3&gt;
&lt;h4 id=&#34;1-链表-linked-lists&#34;&gt;1. 链表 (Linked Lists)&lt;/h4&gt;
&lt;p&gt;链表要么是空的，要么由一个元素 (&lt;code&gt;first&lt;/code&gt;) 和剩余链表 (&lt;code&gt;rest&lt;/code&gt;) 组成。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;处理技巧&lt;/strong&gt;:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;递归处理&lt;/strong&gt;: Base case 通常是 &lt;code&gt;lnk is Link.empty&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;迭代处理&lt;/strong&gt;: &lt;code&gt;while lnk is not Link.empty: ... lnk = lnk.rest&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;常用操作&lt;/strong&gt;: &lt;code&gt;map&lt;/code&gt; (映射), &lt;code&gt;filter&lt;/code&gt; (过滤) 在链表上的实现。注意链表通常是&lt;strong&gt;可变 (Mutable)&lt;/strong&gt; 的。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#链表结构实现&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Link&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    empty &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt;(self, first, rest&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;empty):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;assert&lt;/span&gt; rest &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; Link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;empty &lt;span style=&#34;color:#f92672&#34;&gt;or&lt;/span&gt; isinstance(rest, Link)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; first
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;rest &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; rest
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__repr__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;返回链表的可读字符串（如 &amp;lt;1 2 3&amp;gt;）&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;helper&lt;/span&gt;(lnk):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; lnk &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; Link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;empty:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            first_str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; helper(lnk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first) &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; isinstance(lnk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first, Link) &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; [str(lnk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            rest_str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; helper(lnk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;rest)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; first_str &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; rest_str
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        elements &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; helper(self)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;join(elements)&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#链表操作方式&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#求和&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sum_links&lt;/span&gt;(lnk):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; self &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; Link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;empty:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        current &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;sum_links() &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; isinstance(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first, Link) &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        rest_sum &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;rest&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;sum_links() &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; isinstance(self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;rest, Link) &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; current &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; rest_sum
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#表示&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;display_link&lt;/span&gt;(link):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    str_num &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; link &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; Link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;empty:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; isinstance(link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first, Link):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            elem &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; display_link(link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;elif&lt;/span&gt; isinstance(link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first, int):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            elem &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; str(link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        str_num &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; elem
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        link &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;rest
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(&lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;join(str_sum)&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;gt;&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#映射&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;map&lt;/span&gt;(f, lnk):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; lnk &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; Link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;empty:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Link&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;empty
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; Link(f(lnk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;first), map(f, lnk&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;rest))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-树-trees&#34;&gt;2. 树 (Trees)&lt;/h4&gt;
&lt;p&gt;树由一个&lt;strong&gt;根标签 (Root Label)&lt;/strong&gt; 和一组&lt;strong&gt;分支 (Branches)&lt;/strong&gt; 组成。每个分支本身也是一棵树。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Tree 类定义&lt;/strong&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Tree&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__init__&lt;/span&gt;(self, label, branches&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;[]):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;label &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; label
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# 确保每个分支都是 Tree 的实例，并复制列表以防副作用&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; branches:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;assert&lt;/span&gt; isinstance(b, Tree)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;branches &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; list(branches)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_leaf&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; self&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;branches
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;核心术语&lt;/strong&gt;:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Node (节点)&lt;/strong&gt;: 树中的任何位置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Leaf (叶子)&lt;/strong&gt;: 没有分支的节点 (&lt;code&gt;branches&lt;/code&gt; 为空)。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;递归处理模式&lt;/strong&gt;:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;处理当前节点的 &lt;code&gt;label&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用 &lt;code&gt;for b in t.branches:&lt;/code&gt; 循环递归处理每个分支。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>思政重点</title>
      <link>https://cloudymount789.github.io/blog/politics/</link>
      <pubDate>Sat, 03 Jan 2026 12:44:15 +0800</pubDate>
      
      <guid>https://cloudymount789.github.io/blog/politics/</guid>
      <description>&lt;p&gt;这是一份NJU思政课lbq老师划出的重点的整理 ~&lt;/p&gt;
&lt;h2 id=&#34;绪论担当复兴大任-成就时代新人&#34;&gt;绪论：担当复兴大任 成就时代新人&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;中国特色社会主义进入了新时代（论）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;意味着近代以来久经磨难的中华民族迎来了从站起来、富起来到强起来的伟大飞跃，迎来了实现中华民族伟大复兴的光明前景；&lt;/p&gt;
&lt;p&gt;意味着科学社会主义在21世纪的中国焕发出强大生机活力，在世界上高高举起了中国特色社会主义伟大旗帜；&lt;/p&gt;
&lt;p&gt;意味着中国特色社会主义道路、理论、制度、文化不断发展，拓展了发展中国家走向现代化的途径，给世界上那些既希望加快发展又希望保持自身独立性的国家和民族提供了全新选择，为解决人类问题贡献了中国智慧和中国方案。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;思想道德和法律的关系&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;思想道德和法律都是调节人们思想行为、协调人际关系、维护社会秩序的重要手段。思想道德和法律虽然在调节领域、调节方式、调节目标等方面存在很大不同，但是二者都是上层建筑的重要组成部分，共同服务于一定的经济基础。&lt;/p&gt;
&lt;p&gt;一方面，思想道德建设为法治建设提供思想指引和价值基础。思想道德为法律的制定、发展和完善提供价值准则，是社会主义法律正当性和合理性的重要基础；思想道德能够促进人们自觉尊法学法守法用法，维护法律权威；思想道德调整社会关系的范围和方式更加广泛灵活，与法治建设共同促进良好社会秩序的形成。&lt;/p&gt;
&lt;p&gt;另一方面，法治建设为思想道德建设提供制度支撑和法律保障，通过对思想道德的基本原则予以确认，为思想道德建设提供国家强制力保障。科学立法和民主立法，可以将思想道德有机融入法律体系，使法律具有鲜明道德导向，让法治成为良法善治；严格执法和公正司法，有利于维护社会公平正义，弘扬真善美、打击假恶丑，使思想道德要求在实践中得到切实遵循；全民普法和全民守法，有助于提高人们信守法律的思想道德水平，引导人们自觉履行法定义务、家庭责任、社会责任。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;思想道德素质与法治素养&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;思想道德素质是人们的思想观念、政治立场、价值取向、道德情操和行为习惯等方面品质和能力的综合体现，反映着一个人的思想境界和道德风貌，是促进个体健康成长、社会发展进步的重要保障。&lt;/p&gt;
&lt;p&gt;法治素养是指人们学习法律知识、理解法律本质、运用法治思维、依法维护权利与依法履行义务的品质和能力，对于保证人们尊崇法治、遵守法律具有重要的意义。&lt;/p&gt;
&lt;h2 id=&#34;第一章领悟人生真谛-把握人生方向&#34;&gt;第一章：领悟人生真谛 把握人生方向&lt;/h2&gt;
&lt;h3 id=&#34;第一节人生观是对人生的总看法&#34;&gt;第一节：人生观是对人生的总看法&lt;/h3&gt;
&lt;p&gt;人生观就是人们关于人生目的、人生态度、人生价值等问题的总观点和总看法&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;人的本质&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;人的本质不是单个人所固有的抽象物，在其现实性上，它是一切社会关系的总和。&lt;/p&gt;
&lt;p&gt;1、任何人都是处在一定的社会关系中从事社会实践活动的人。社会属性是人的本质属性。每一个人都从属于一定的社会群体，都同周围的人发生各种各样的社会关系&lt;/p&gt;
&lt;p&gt;2、人的社会关系的总和决定了人的本质。人们正是在这种客观的、不断变化的社会关系中塑造自我，成为真正现实的、具有个性特征的人。&lt;/p&gt;
&lt;p&gt;3、因此，认识人的本质，只能立足于具体的、历史的社会关系中从事社会实践的人，而不能从抽象的人性论出发，更不能依靠所谓神的启示。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;社会关系是什么？&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;以血缘为纽带的家庭关系&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;以个人活动为轴心的社会关系&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;超出个人生活的直接经验范围社会关系&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;特点：不可见、但客观、现实、不断变化&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;个人与社会的辩证关系（论）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、个人与社会是对立统一的关系，两者相互依存、相互制约、相互促进。社会是由一个个具体的人组成的，离开了人就没有社会。同时，人是社会的人，离开了社会，人也无法生活，社会是人的存在形式。&lt;/p&gt;
&lt;p&gt;2、个人与社会的关系，最根本的是个人利益与社会利益的关系。在社会主义社会中，个人利益与社会利益在根本上是一致的。社会利益离不开个人利益，个人利益也离不开社会利益。&lt;/p&gt;
&lt;p&gt;3、大学生思考人生问题，应该正确认识和处理个人与社会的关系，把自己的人生追求同社会的发展进步紧密结合起来，在为社会作贡献的过程中成长进步，实现自己的人生价值。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;人生观的主要内容&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;人生观的主要内容包括对人生目的、人生态度和人生价值等问题的根本看法。人生目的回答人为什么活着，人生态度回答人应当如何活着，人生价值回答什么样的人生才有价值。这三个方面相互联系、相辅相成，是一个有机整体。&lt;/p&gt;
&lt;p&gt;人生目的是对人为什么活着这一人生根本问题的认识和回答，是人生观的核心，在人生实践中具有重要的作用。&lt;/p&gt;
&lt;p&gt;人生价值内在地包含了人生的自我价值和社会价值两个方面。主要表现为对
自身物质和精神需要的满足程度。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;一方面，人生的自我价值是个体生存和发展的必要条件，人生的自我价值为实现是个体为社会创造更大价值的前提。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;另一方面，人生的社会价值是社会存在和发展的重要条件，人生社会价值的实现是个体自我完善、全面发展的保障。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;人生观与世界观、价值观&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;世界观是人们对生活在其中的世界以及人与世界的关系的总体看法和根本观点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;世界观决定人生观&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;同时，人生观又对世界观的巩固、发展和变化起着重要作用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;第二节正确的人生观&#34;&gt;第二节：正确的人生观&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;正确评价人生价值（论）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、既要看贡献的大小，也要看尽力的程度。评价一个人的人生有无价值或价值大小，最根本的是看他对社会是否作出贡献及贡献大小。既要看他对社会贡献的大小，也要看他所对应的职责及尽力的程度。任何人不论从事何种劳动，只要在自己的岗位上尽职尽责、兢兢业业，积极为社会进步作贡献，就应该对他的人生价值给予积极肯定的评价。&lt;/p&gt;
&lt;p&gt;2、既要尊重物质贡献，也要尊重精神贡献。既要看一个人对社会作出的物质贡献，也要看他对社会作出的精神贝献。&lt;/p&gt;
&lt;p&gt;3、既要注重社会贡献，也要注重自身完善。推动和实现人的全面发展是社会发展的根本目标。人生自我完善的过程，既是人生自我价值实现的过程，也是为社会创造价值的过程。因此，衡量人生价值，既要看他对社会贡献的大小，也要看他自身完善的程度。&lt;/p&gt;
&lt;h3 id=&#34;第三节创造有意义的人生&#34;&gt;第三节：创造有意义的人生&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;反对错误人生观&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、拜金主义是一种认为金钱可以主宰一切，把追求金钱作为人生至高目的的思想观念。&lt;/p&gt;
&lt;p&gt;2、享乐主义是一种把享乐作为人生目的，主张人生就在于满足感官的需求与快乐的思想观念。&lt;/p&gt;
&lt;p&gt;3、极端个人主义是个人主义的一种表现形式，它突出强调以个人为中心，在个人与他人、个人与社会的关系上表现为极端利己主义和狭隘功利主义。&lt;/p&gt;
&lt;p&gt;拜金主义、享乐主义、极端个人主义等错误的人生观，没有正确把握个人与社会的辩证关系，忽视或否认社会性是人的存在和活动的本质属性，对人的需要的理解极端、狭隘和片面，其出发点和落脚点都是一己之私利。金钱和享乐可能会给人带来一时的满足感，但无法持久。人的幸福不能仅仅局限于物质方面，精神需要的满足、精神生活的充实也是幸福的重要方面。大学生应当顺应时代潮流，在科学理论的指导下，认清拜金主义、享乐主义、极端个人主义等错误思想和腐朽观念的实质,选择并追求高尚的人生目的，在服务人民、奉献社会的人生实践中完善自我、创造人生的美好价值。&lt;/p&gt;
&lt;h2 id=&#34;第二章追求远大理想-坚定崇高信念&#34;&gt;第二章：追求远大理想 坚定崇高信念&lt;/h2&gt;
&lt;h3 id=&#34;第一节理想信念的内涵及重要性&#34;&gt;第一节：理想信念的内涵及重要性&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;理想的内涵与特征&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;定义：理想是人们在实践中形成的、有实现可能性的、对未来社会和自身发展目标的向往与追求，是人们的世界观、人生观和价值观在奋斗目标上的集中体现。&lt;/p&gt;
&lt;p&gt;特征：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;理想具有超越性。就在于它不仅源于现实，而且超越现实。&lt;/li&gt;
&lt;li&gt;理想具有实践性。作为一定的社会实践的产物。&lt;/li&gt;
&lt;li&gt;理想具有时代性。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;信念的内涵与特征&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;定义：信念是人们在一定的认识基础上确立的对某种思想或事物坚信不疑并身体力行的精神状态。信念是认知、情感和意志的有机统一体，为人们矢志不渝、百折不挠地追求理想目标提供了强大的精神动力。&lt;/p&gt;
&lt;p&gt;特征：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;信念具有执着性。&lt;/li&gt;
&lt;li&gt;信念具有支撑性。&lt;/li&gt;
&lt;li&gt;信念具有多样性。信仰是最高层次的信念。信仰有盲目和科学之分。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;理想信念是精神之“钙”（理想信念的重要性）&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;理想信念昭示奋斗目标。&lt;/li&gt;
&lt;li&gt;理想信念催生前进动力。&lt;/li&gt;
&lt;li&gt;理想信念提供精神支柱。&lt;/li&gt;
&lt;li&gt;理想信念提高精神境界。理想信念是衡量一个人精神境界高下的重要
标尺。理想信念作为人的精神世界的核心。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;第二节坚定信仰信念信心&#34;&gt;第二节：坚定信仰信念信心&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;为什么要信仰马克思主义&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、马克思主义是科学的理论，创造性地揭示了人类社会发展规律。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;马克思主义是在批判地吸收前人优秀思想成果、总结人类历史经验的基础上，创立的科学理论。&lt;/li&gt;
&lt;li&gt;马克思主义深刻揭示了自然界、人类社会、人类思维发展的普遍规律，为人类社会发展进步指明了方向。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2、马克思主义是人民的理论，第一次创立了人民实现自身解放的思想体系。&lt;/p&gt;
&lt;p&gt;马克思主义第一次站在人民的立场探求人类自由解放的道路，以科学的理论为最终建立一个没有压迫、没有剥削、人人平等、人人自由的理想社会指明了方向。&lt;/p&gt;
&lt;p&gt;3、马克思主义是实践的理论。&lt;/p&gt;
&lt;p&gt;正是在马克思主义的指导下，社会主义由空想变成科学,由科学理论转变为社会实践。&lt;/p&gt;
&lt;p&gt;4、马克思主义是不断发展的开放的理论。&lt;/p&gt;
&lt;p&gt;马克思主义理论不是教条，而是行动指南，必须随着实践的变化而发展。马克思主义能够永葆其美妙之青春,不断探索时代发展提出的新课题，回应人类社会面临的新挑战。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;胸怀共产主义远大理想&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;共产主义社会是物质财富极大丰富、实现按需分配（不是按劳分配）、人的精神境界极大提高、每个人自由而全面发展的社会。共产主义只有在社会主义社会充分发展和高度发达的基础上才能实现。&lt;/p&gt;
&lt;p&gt;中国共产党从成立之日起，就确立了共产主义的远大理想，始终团结带领中国人民朝着这个伟大理想前行。&lt;/p&gt;
&lt;h3 id=&#34;第三节在实现中国梦的实践中放飞青春梦想&#34;&gt;第三节：在实现中国梦的实践中放飞青春梦想&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;理想与现实是对立统一的&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;错误做法（倾向其一）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一种认识偏向是用理想来否定现实。&lt;/li&gt;
&lt;li&gt;一种认识偏向是用现实来否定理想。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1、理想和现实存在着对立的一面，二者的矛盾与冲突，属于“应然”和“实然”的矛盾。&lt;/p&gt;
&lt;p&gt;2、理想与现实又是统一的。&lt;/p&gt;
&lt;p&gt;一方面，现实中包含着理想的因素，孕育着理想的发展；&lt;/p&gt;
&lt;p&gt;另一方面，理想中也包含着现实，既包含着现实中必然发展的因素，又包含着由理想转化为现实的条件。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;当代青年还需要艰苦奋斗吗？（*）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;艰苦奋斗是实现理想的重要条件：&lt;/p&gt;
&lt;p&gt;（历史）1、艰苦奋斗是我们的传家宝。&lt;/p&gt;
&lt;p&gt;（实现理想）2、对于当代青年来说，理想的实现必须通过实践才能转变为现实。&lt;/p&gt;
&lt;p&gt;（成就事业）3、艰苦奋斗是成就人生事业不可或缺的条件。&lt;/p&gt;
&lt;p&gt;一方面，物质生活条件的改善，社会观念的变化，只是赋予艰苦奋斗以新的时代内涵和实践要求，但艰苦奋斗的精神是永远不会过时的；&lt;/p&gt;
&lt;p&gt;另一方面，讲艰苦奋斗，也并不是不讲物质条件，而是为了实现既定的理想，吃苦耐劳，迎难而上，不惜奉献出自己的一切。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;坚持个人理想与社会理想的有机结合&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;个人与社会有机地联系在一起，二者相互依存、相互制约、共同发展。同样，社会理想与个人理想也不是彼此孤立的，它们之间相互联系、相互影响、相互制约。&lt;/p&gt;
&lt;p&gt;1、个人理想以社会理想为指引。&lt;/p&gt;
&lt;p&gt;2、社会理想是个人理想的汇聚和升华。社会理想不是凭空产生的，也不是由外在力量强加的，而是建立在广大社会成员的个人理想基础之上的。强调个人理想要符合社会理想，并不是要排斥和抹杀个人理想，而是要摆正个人理想同社会理想的关系。社会理想归根到底要靠全体社会成员的共同努力来实现，&lt;/p&gt;
&lt;h2 id=&#34;第三章继承优良传统-弘扬中国精神&#34;&gt;第三章：继承优良传统 弘扬中国精神&lt;/h2&gt;
&lt;h3 id=&#34;第一节中国精神是兴国强国之魂&#34;&gt;第一节：中国精神是兴国强国之魂&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;中华民族崇尚精神的优秀传统&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;表现为：&lt;/p&gt;
&lt;p&gt;1、对物质生活与精神生活相互关系的独到理解。&lt;/p&gt;
&lt;p&gt;2、对理想的不懈追求。理想是激励个体的精神内驱力，是凝聚社会整体的精神力量。&lt;/p&gt;
&lt;p&gt;3、对品格养成的重视。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;弘扬中国精神的时代价值：凝聚兴国强国的磅礴伟力&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;弘扬以爱国主义为核心的民族精神&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;民族精神的定义：民族精神是一个民族在长期共同生活和社会实践中形成的，为本民族大多数成员所认同的价值取向、思维方式、道德规范、精神气质的总和,是一个民族赖以生存和发展的精神支柱。&lt;/p&gt;
&lt;p&gt;中华民族形成了以爱国主义为核心的伟大民族精神。&lt;/p&gt;
&lt;p&gt;爱国主义的定义：&lt;/p&gt;
&lt;p&gt;1、爱国主义体现了人们对自己祖国的深厚感情，&lt;/p&gt;
&lt;p&gt;2、揭示了个人对祖国的依存关系，&lt;/p&gt;
&lt;p&gt;3、是人们对自己家园以及民族和文化的归属感、认同感、尊严感与荣誉感的统一，&lt;/p&gt;
&lt;p&gt;4、是调节个人与祖国之间关系的道德要求、政治原则和法律规范。&lt;/p&gt;
&lt;p&gt;爱国主义的基本内涵：&lt;/p&gt;
&lt;p&gt;1、是爱祖国的大好河山。&lt;/p&gt;
&lt;p&gt;2、是爱自己的骨肉同胞。&lt;/p&gt;
&lt;p&gt;3、是爱祖国的灿烂文化。&lt;/p&gt;
&lt;p&gt;文化是一个国家、一个民族的灵魂，是一个国家民族得以延续的精神基因，爱祖国的灿烂文化，体现为对祖国优秀历史文化传统的认同和尊重、传承和发扬。&lt;/p&gt;
&lt;p&gt;4、是爱自己的国家。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;弘扬以改革创新为核心的时代精神&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;时代精神是一个国家和民族在新的历史条件下形成和发展的，体现民族特质并顺应时代潮流的思想观念、价值取向、精神风貌和社会风尚的总和。&lt;/p&gt;
&lt;h3 id=&#34;第二节做新时代的忠诚爱国者&#34;&gt;第二节：做新时代的忠诚爱国者&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;新时代的忠诚爱国者的要求&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、坚持爱国爱党爱社会主义相统一（爱国主义的本质就是坚持爱国和爱
党、爱社会主义高度统一。）&lt;/p&gt;
&lt;p&gt;2、维护祖国统一和民族团结&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;维护和推进祖国统一&lt;/li&gt;
&lt;li&gt;促进民族团结&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;3、尊重和传承中华民族历史文化，旗帜鲜明反对历史虚无主义&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;坚持立足中国又面向世界&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;经济全球化背景下还需要爱国主义吗？（*）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、当今世界，国家仍然是民族存在的最高组织形式，是国际社会活动中的独立主体。世界是丰富多彩的，不能以一个或几个国家的政治制度、价值观念和意识形态来衡量多样性的世界。用一种政治制度、价值观念和意识形态去统一世界，不仅是对别国的侵害，而且也是根本行不通的，只会危害世界的和平与发展。&lt;/p&gt;
&lt;p&gt;2、经济全球化是社会生产力发展的客观要求和科技进步的必然结果。经济全球化不等于政治全球化，更不意味着政治一体化，只要国家存在，爱国主义就有坚实的基础和丰富的意义。&lt;/p&gt;
&lt;p&gt;3、在新形势下，我们一定要保持清醒的认识，坚持独立自主、自力更生，既虚心学习借鉴国外的有益经验，又坚定民族自尊心和自信心，不信邪、不怕压，坚决维护国家的主权和尊严，按照本国国情坚持、发展自己的政治制度和民族文化，把中国发展进步的命运始终牢牢掌握在自己手中。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;自觉维护国家安全&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;确立总体国家安全观，以人民安全为宗旨，以政治安全为根本，以经济安全为基础，以军事科技文化社会安全为保障。&lt;/p&gt;
&lt;h2 id=&#34;第四章明确价值要求-践行价值准则&#34;&gt;第四章：明确价值要求 践行价值准则&lt;/h2&gt;
&lt;h3 id=&#34;第一节全体人民共同的价值追求&#34;&gt;第一节：全体人民共同的价值追求&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;价值观与核心价值观&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;价值观的定义：&lt;/p&gt;
&lt;p&gt;价值观就是主体对客体有无价值、价值大小的立场和态度，是对价值及其相关内容的基本观点和看法。它与世界观、人生观相辅相成、相互作用、相互促进，是辩证统一的关系。&lt;/p&gt;
&lt;p&gt;价值观的特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;价值观反映着特定的时代精神&lt;/li&gt;
&lt;li&gt;价值观体现着鲜明的民族特色&lt;/li&gt;
&lt;li&gt;价值观蕴含着特定的阶级立场&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;核心价值观的定义：&lt;/p&gt;
&lt;p&gt;核心价值观是一定社会形态、社会性质的集中体现，在一个社会的思想观念体系中处于主导地位，体现着社会制度的阶级属性、社会运行的基本原则和社会发展的基本方向。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;社会主义核心价值观&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;社会主义核心价值观和社会主义核心价值体系是紧密联系、互为依存、相辅相成的。&lt;/p&gt;
&lt;p&gt;（价值观属于价值体系）社会主义核心价值观是社会主义核心价值体系的精神内核，它体现了社会主义核心价值体系的根本性质和基本特征，反映了社会主义核心价值体系的丰富内涵和实践要求，是社会主义核心价值体系的高度凝练和集中表达。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;社会主义核心价值观的基本内容&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;富强、民主、文明、和谐，自由、平等、公正、法治，爱国、敬业、诚信、友善。&lt;/p&gt;
&lt;p&gt;1、（国家）富强、民主、文明、和谐的价值追求，回答了我们要建设什么样的国家这一重大问题。&lt;/p&gt;
&lt;p&gt;富强是促进社会进步、人的自由全面发展的物质基础，体现了马克思主义唯物史观生产力标准的根本要求。&lt;/p&gt;
&lt;p&gt;和谐是中华文明的核心价值理念。&lt;/p&gt;
&lt;p&gt;2、（社会）自由、平等、公正、法治的价值追求回答了建设什么样的社会的重大问题，揭示了社会主义社会发展的价值取向。&lt;/p&gt;
&lt;p&gt;3、（公民）爱国、敬业、诚信、友善，这一价值追求回答了我们要培育什么样的公民的重大问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;社会主义核心价值观的重大意义&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、坚持和发展中国特色社会主义的价值遵循&lt;/p&gt;
&lt;p&gt;马克思主义提出在生产力高度发展和生产资料公有制的基础上，建立真正实现人人平
等的公平正义的社会，是迄今为止人类最先进、最广泛的价值追求。这也正是社会主义核心价值观先进性、感召力之所在。&lt;/p&gt;
&lt;p&gt;社会主义核心价值观，集中体现了马克思主义所倡导的价值理念，是
中国特色社会主义的根本价值导向。&lt;/p&gt;
&lt;p&gt;2、提高国家文化软实力的迫切要求&lt;/p&gt;
&lt;p&gt;培育和践行社会主义核心价值观，有利于增进国际社会对中国的理解，扩大中华文化的影响力，展示社会主义中国的良好形象；有利于增强社会主义意识形态的竞争力，掌握话语权，赢得主动权，逐步打破西方的话语垄断、舆论垄断，维护国家文化利益和意识形态安全，不断提高我们国家的文化软实力。&lt;/p&gt;
&lt;p&gt;3、推进社会团结奋进的“最大公约数”&lt;/p&gt;
&lt;p&gt;培育和践行社会主义核心价值观，能够在具体利益矛盾、各种思想差异之上最广泛地形成价值共识，有效引领整合纷繁复杂的社会思想意识，有效避免利益格局调整可能带来的思想对立和混乱，形成团结奋斗的强大精神力量。&lt;/p&gt;
&lt;h2 id=&#34;第五章遵守道德规范-锤炼道德品格&#34;&gt;第五章：遵守道德规范 锤炼道德品格&lt;/h2&gt;
&lt;h3 id=&#34;第一节社会主义道德的核心与原则&#34;&gt;第一节：社会主义道德的核心与原则&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;坚持马克思主义道德观&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;道德的定义：道德是一种特殊的社会意识形态，它是以善恶为评价方式，主要依靠社会舆论、传统习俗和内心信念来发挥作用的行为规范的总和。&lt;/p&gt;
&lt;p&gt;马克思主义道德观：&lt;/p&gt;
&lt;p&gt;1、劳动是道德起源的首要前提。劳动创造了人和人类社会，是道德起源的第一个历史
刖提。&lt;/p&gt;
&lt;p&gt;2、社会关系是道德赖以产生的客观条件。道德正是适应社会关系尤其是利益关系调
节的需要而产生的。&lt;/p&gt;
&lt;p&gt;3、人的自我意识是道德产生的主观条件&lt;/p&gt;
&lt;p&gt;马克思主义在人类思想史上第一次科学而全面地论述了道德的起源问题，强调道德属于上层建筑的范畴，是一种特殊的社会意识形态，为正确认识和理解道德的本质奠定了基础。&lt;/p&gt;
&lt;p&gt;道德的内涵：&lt;/p&gt;
&lt;p&gt;1、道德是反映社会经济关系的特殊意识形态。道德的产生、发展和变化，归根结底源于社会经济关系。&lt;/p&gt;
&lt;p&gt;有什么样的社会经济关系，相应地就有什么样的道德。&lt;/p&gt;
&lt;p&gt;道德作为一种社会意识，在阶级社会里总是反映着一定阶级的利益，因而不可避免地具有阶级性。&lt;/p&gt;
&lt;p&gt;作为社会意识的道德一经产生，便有相对独立性。这种相对独立性既表现为道德的历史继承性，也表现为道德对社会发展具有能动的反作用。&lt;/p&gt;
&lt;p&gt;2、道德是社会利益关系的特殊调节方式。作为一种调整人与人、人与社会、人与自然以及人与自身之间关系的特殊的行为规范。&lt;/p&gt;
&lt;p&gt;3、道德是一种实践精神。在本质上是知行合一的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;道德的功能与作用&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在道德的功能系统中，认识功能、规范功能、调节功能是最基本的功能。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;道德的认识功能是指道德反映社会关系特别是反映社会经济关系的功效与能力。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;道德的规范功能是指在正确善恶观的指引下，规范社会成员在社会公共领域、职业领域、家庭领域的行为，并规范个人品德的养成，引导并促进人们崇德向善&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;道德的调节功能是指道德通过评价等方式指导和纠正人们的行为和实践活动、协调社会关系和人际关系的功效与能力&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;（区分规范和调节）&lt;/p&gt;
&lt;h3 id=&#34;第三节投身崇德向善的道德实践&#34;&gt;第三节：投身崇德向善的道德实践&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;网络生活中的道德要求&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;网络的特点：虚拟性、主体隐匿性、公共性&lt;/p&gt;
&lt;p&gt;网络生活中的道德要求，是人们在网络生活中为了维护正常的网络公共秩序需要共同遵守的基本道德准则，是社会公德在网络空间的运用和扩展。&lt;/p&gt;
&lt;p&gt;1、正确使用网络工具。大学生要提高信息获取能力，加强信息辨识能力，增进信息应用能力，使网络成为开阔视野、提高能力的重要工具。&lt;/p&gt;
&lt;p&gt;2、加强网络文明自律。首先，进行健康网络交往。其次，自觉避免沉迷网络。最后，加强网络道德自律。&lt;/p&gt;
&lt;p&gt;3、营造良好网络道德环境。&lt;/p&gt;
&lt;h2 id=&#34;第六章学习法治思想-提升法治素养&#34;&gt;第六章：学习法治思想 提升法治素养&lt;/h2&gt;
&lt;h3 id=&#34;第一节社会主义法律的特征和运行&#34;&gt;第一节：社会主义法律的特征和运行&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;法律是由国家制定或认可并由国家强制力保证实施的，反映由特定社会物质生活条件所决定的统治阶级意志的规范体系。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;第四节自觉尊法学法守法用法&#34;&gt;第四节：自觉尊法学法守法用法&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;法治思维及其内涵&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;定义：法治思维是指以法治价值和法治精神为导向，运用法律原则、法律规则、法律方法思考和处理问题的思维模式。法治思维将法律作为判断是非和处理事务的准绳，要崇尚法治、尊重法律，善于运用法律手段协调关系和解决问题。&lt;/p&gt;
&lt;p&gt;内涵：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;法治价值和法治精神为指导，是一种正当性思维。&lt;/li&gt;
&lt;li&gt;是一种规范思维。&lt;/li&gt;
&lt;li&gt;是一种逻辑思维。&lt;/li&gt;
&lt;li&gt;是一种符合规律、尊重事实的科学思维。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;法治思维的基本内容&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;法治思维主要包括法律至上、权力制约、公平正义、权利保障、程序正当等内容。&lt;/p&gt;
&lt;p&gt;权利保障主要是指对公民权利的法律保障，具体包括公民权利的宪法保障、立法保障、行政保障和司法保障。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;宪法保障是权利保障的前提和基础。&lt;/li&gt;
&lt;li&gt;立法保障是权利保障的重要条件。&lt;/li&gt;
&lt;li&gt;行政保障是权利保障的关键环节。&lt;/li&gt;
&lt;li&gt;司法保障是公民权利保障的最后防线。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;依法行使权利与履行义务&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;法律权利是指由一定的社会物质生活条件所制约的行为自由。&lt;/p&gt;
&lt;p&gt;法律义务是指由一定的社会物质生活条件所制约的社会责任，是保证法律所规定的义务人按照权利人要求从事一定行为或不从事一定行为以满足权利人利益的法律手段。&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>SICP_python_期中前笔记</title>
      <link>https://cloudymount789.github.io/blog/sicp_note_before_mid/</link>
      <pubDate>Thu, 11 Dec 2025 17:02:23 +0800</pubDate>
      
      <guid>https://cloudymount789.github.io/blog/sicp_note_before_mid/</guid>
      <description>&lt;p&gt;摘要&lt;/p&gt;
&lt;p&gt;本文为《计算机程序的构造和解释》（SICP，CS61A 南大引进版）python部分期中前课程核心笔记，聚焦程序设计的底层逻辑与核心思想，旨在帮助学习者搭建“知其然更知其所以然”的编程认知框架。适合正在学习 CS61A 课程的学习者梳理知识体系，也可作为编程入门者夯实基础、理解程序设计本质的参考资料。&lt;/p&gt;
&lt;h1 id=&#34;sicp_python_期中前笔记&#34;&gt;SICP_python_期中前笔记&lt;/h1&gt;
&lt;hr&gt;
&lt;h3 id=&#34;易错提醒&#34;&gt;易错提醒&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;记得初始化参数！&lt;/li&gt;
&lt;li&gt;记得每个函数接受多少个输入！&lt;/li&gt;
&lt;li&gt;记得return！&lt;/li&gt;
&lt;li&gt;lambda函数要在被()调用的时候才会执行！&lt;/li&gt;
&lt;li&gt;被next拿出来的会在可变序列中消失！pop也是！可变序列在一处被修改后，所有对它的引用都会随之改变！！！&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;易忘函数&#34;&gt;易忘函数&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;all(iterable)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：如果 &lt;code&gt;iterable&lt;/code&gt; 中所有元素为 &lt;code&gt;True&lt;/code&gt;，返回 &lt;code&gt;True&lt;/code&gt;，否则返回 &lt;code&gt;False&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：会短路，即遇到第一个 &lt;code&gt;False&lt;/code&gt; 时立即返回 &lt;code&gt;False&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;code&gt;any(iterable)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：如果 &lt;code&gt;iterable&lt;/code&gt; 中至少有一个元素为 &lt;code&gt;True&lt;/code&gt;，返回 &lt;code&gt;True&lt;/code&gt;，否则返回 &lt;code&gt;False&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：会短路，即遇到第一个 &lt;code&gt;True&lt;/code&gt; 时立即返回 &lt;code&gt;True&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;code&gt;enumerate(iterable, start=0)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：返回一个枚举对象，包含可迭代对象的索引和值。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：&lt;code&gt;start&lt;/code&gt; 参数指定索引的起始值。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;code&gt;filter(function, iterable)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：根据 &lt;code&gt;function&lt;/code&gt; 函数过滤 &lt;code&gt;iterable&lt;/code&gt; 中的元素，只有 &lt;code&gt;function&lt;/code&gt; 返回 &lt;code&gt;True&lt;/code&gt; 的元素会被保留。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：返回一个迭代器，需要转换为列表等容器查看结果。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;&lt;code&gt;pow(x, y, z=None)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：返回 &lt;code&gt;x&lt;/code&gt; 的 &lt;code&gt;y&lt;/code&gt; 次幂。如果提供了 &lt;code&gt;z&lt;/code&gt;，则返回 &lt;code&gt;(x ** y) % z&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：该函数在处理大数时效率较高。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;&lt;code&gt;zip(*iterables)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：将多个可迭代对象按元素配对，返回一个包含元组的迭代器。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：如果输入可迭代对象长度不一致，按&lt;strong&gt;最短长度&lt;/strong&gt;配对。需要转换为列表等容器查看结果。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;错题&#34;&gt;错题：&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;f1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; print(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;f2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt;: print(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(f1, f2, f2())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;, Function, &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;world&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;hello
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;and只对左边求值，右边被短路，返回左边的值为None，而REPL遇到None不输出内容&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#3 神秘斐波那契数列&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mystery&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;yield&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;yield&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    iter1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mystery()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    iter2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mystery()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    next(iter2)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;yield from&lt;/span&gt; map(&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt; pair: pair[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; pair[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], zip(iter1, iter2))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;series1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mystery()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;series2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; filter(&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt; n: n &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, series1)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;[next(series1) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; _ &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;[next(series1) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; _ &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;[next(series2) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; _ &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;next(series1)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;抽象的猜出一个函数的作用！
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    存在递归调用的生成器一般是无限的！
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    注意赋值语句在赋值的时候是不求值的！被使用的时候才会求值&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;functions--control&#34;&gt;Functions &amp;amp; Control&lt;/h2&gt;
&lt;hr&gt;
&lt;h3 id=&#34;expression--value&#34;&gt;Expression &amp;amp; Value&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;An expression describes a computation and evaluates to a value&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;include : function call notation, operators and operands&lt;/li&gt;
&lt;li&gt;order : evaluate operater subexpression &amp;gt; operand ~ &amp;gt; apply&lt;/li&gt;
&lt;li&gt;types : primitive(numbers, strings, names), arithmetic, call&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Programs manipulate values&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;types: 4&lt;/li&gt;
&lt;li&gt;Expressions evaluate to values in one or more steps&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;name--assignment&#34;&gt;Name &amp;amp; Assignment&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Values can be assigned to names to make referring to them easier.&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A name can only be bound to a single value.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;One way to introduce a new name in a program is with an assignment statement.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Statements affect the program, &lt;strong&gt;but do not evaluate to values&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;function-definition&#34;&gt;Function Definition&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;function : abstraction&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Execution rule for def Statements&lt;/p&gt;&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Create a function with signature &lt;!-- raw HTML omitted --&gt;(&lt;!-- raw HTML omitted --&gt;)&lt;/li&gt;
&lt;li&gt;Set the body of that function to be everything indented after the first line&lt;/li&gt;
&lt;li&gt;Bind &lt;!-- raw HTML omitted --&gt; to that function in the current frame&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;function-call-eval--apply&#34;&gt;Function Call (Eval &amp;amp; Apply)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Procedure for calling/applying user-defined functions (for now)&lt;/p&gt;&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Create a new environment frame&lt;/li&gt;
&lt;li&gt;Bind the function&amp;rsquo;s parameters to its arguments in that frame&lt;/li&gt;
&lt;li&gt;Execute the body of the function in the new environment&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;pure--non-pure-functions-print-vs-return-none&#34;&gt;Pure / Non-Pure Functions (Print vs Return, None)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The special value None represents nothing in Python&lt;/li&gt;
&lt;li&gt;A function that does not explicitly return a value will return None&lt;/li&gt;
&lt;li&gt;Careful: None is not displayed by the interpreter as the value of an expression&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Pure Functions
just return values&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Non-Pure Functions
have side effects&lt;/p&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;conditional-control-if-statement&#34;&gt;Conditional Control (If-Statement)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Execution Rule for Conditional Statements:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Each header is considered in order&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Evaluate the header’s conditional expression if the header is not an else&lt;/li&gt;
&lt;li&gt;If the expression evaluates to true or the header is an else, execute the suite and skip the remaining headers&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;要特别注意!有的语句前不该用elif/ else, 会导致被短路，只是检查条件的话，可以只用一个if就好了&lt;/p&gt;
&lt;h3 id=&#34;boolean-expressions--short-circuiting&#34;&gt;Boolean Expressions &amp;amp; Short Circuiting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;boolean contexts:
False values in Python: False, None, 0, ‘’ (more to come)&lt;br&gt;
True values: everything else
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;special operators
&lt;!-- raw HTML omitted --&gt; and &lt;!-- raw HTML omitted --&gt; and &lt;!-- raw HTML omitted --&gt; and &amp;hellip;
Evaluate to the first false value.
If none are false, evaluates to the last expression
&lt;!-- raw HTML omitted --&gt; or &lt;!-- raw HTML omitted --&gt; or &lt;!-- raw HTML omitted --&gt; or &amp;hellip;
Evaluate to first true value.
If none are true, evaluates to the last expression
not &lt;!-- raw HTML omitted --&gt;
Evaluates to True if &lt;!-- raw HTML omitted --&gt; if a false value and False if &lt;!-- raw HTML omitted --&gt; is a true value&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;返回的是操作数的值！不是True or False！&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;notice: &lt;em&gt;&lt;strong&gt;Short-Circuiting&lt;/strong&gt;&lt;/em&gt; —— avoid side-effect and error&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;iterative-control-while-statement&#34;&gt;Iterative Control (While-Statement)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Execution Rule for While Statements:&lt;/p&gt;&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Evaluate the header’s expression&lt;/li&gt;
&lt;li&gt;If it is a true value, execute the  (whole) suite, then return to step 1&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;斐波那契数列&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fib&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;Compute the nth Fibonacci number, for N &amp;gt;= 1&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    pred, curr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# 0th and 1st Fibonacci numbers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    k &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;              &lt;span style=&#34;color:#75715e&#34;&gt;# curr is the kth Fibonacci number&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; k &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; n:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        pred, curr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; curr, pred &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; curr
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        k &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; curr
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;error-messages&#34;&gt;Error Messages&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://cloudymount789.github.io/blog/sicp_note_before_mid/####-built-in-exceptation&#34;&gt;见后&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;environment-diagrams&#34;&gt;Environment Diagrams&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;A visual tool to keep track of bindings &amp;amp; state of a computer program&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;A frame keeps track of variable-to-value bindings.&lt;/li&gt;
&lt;li&gt;Every call expression has a corresponding frame.&lt;/li&gt;
&lt;li&gt;Global, a.k.a(又名). the global frame, is the starting frame.
It doesn&amp;rsquo;t correspond to a specific call expression.&lt;/li&gt;
&lt;li&gt;Parent frames
The parent of a function is the frame in which it was defined.
If you can&amp;rsquo;t find a variable in the current frame, you check it&amp;rsquo;s parent, and so on. If you can&amp;rsquo;t find the variable, &lt;strong&gt;NameError&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;assignment-statements&#34;&gt;Assignment Statements&lt;/h3&gt;
&lt;p&gt;bind variable to value&lt;/p&gt;
&lt;h3 id=&#34;def-statements&#34;&gt;Def Statements&lt;/h3&gt;
&lt;p&gt;Create a function value: in current frame
&lt;img src=&#34;https://cloudymount789.github.io/images/image-1.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;func &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;formal parameters&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;) [parent&lt;span style=&#34;color:#f92672&#34;&gt;=&amp;lt;&lt;/span&gt;label&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span style=&#34;color:#75715e&#34;&gt;#Its parent is the current frame.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Bind &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; to the function value &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; the current frame
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;call-expressions&#34;&gt;Call Expressions&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Add a local frame, titled with the &lt;!-- raw HTML omitted --&gt; of the function being applied.&lt;/li&gt;
&lt;li&gt;Copy the parent of the function (not always the current frame) to the local frame: [parent=&lt;!-- raw HTML omitted --&gt;]&lt;/li&gt;
&lt;li&gt;Bind the &lt;!-- raw HTML omitted --&gt; to the arguments in the local frame.&lt;/li&gt;
&lt;li&gt;Execute the body of the function in the environment that starts with the local frame&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;variable-lookup&#34;&gt;Variable Lookup&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Variable Lookup:&lt;/p&gt;&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Lookup name in the current frame&lt;/li&gt;
&lt;li&gt;Lookup name in parent frame, its parent frame, etc..&lt;/li&gt;
&lt;li&gt;Stop at the global frame&lt;/li&gt;
&lt;li&gt;If not found, an error is thrown&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;注意： 函数的parent frame 取决于def的环境，而不是调用的环境&lt;/li&gt;
&lt;li&gt;只能寻找并使用，若要修改则需要用nonlocal or global 声明&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;区别函数传参：若使用而未改变传入参数，则若外部参数发生变化，内部参数也会随之发生变化；若改变了该参数，相当于在内部框架对参数进行重新赋值，不会改变外部参数的值，称为闭包，并且此后外部参数再发生变化不会影响内部参数&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;求值（Evaluation）：是对表达式的求解和计算过程。
应用（Apply）：是指 函数调用，即将一个函数和它的参数结合在一起并执行。
当你调用一个函数时，首先会 求值 参数，接着 应用 函数。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lambda-expressions&#34;&gt;Lambda Expressions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;evaluate to functions !&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Only the def statement gives the function an intrinsic name&lt;/p&gt;
&lt;h4 id=&#34;notice-lambda-for-loop&#34;&gt;notice: lambda for loop&lt;/h4&gt;
&lt;p&gt;如果你在循环中使用 lambda 函数时，要注意变量绑定的问题。通常，这种情况会导致 lambda 函数在创建时捕获的变量值是循环结束后的最终值。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;示例&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt;: i &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print([f() &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; f &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; fs])  &lt;span style=&#34;color:#75715e&#34;&gt;# [4, 4, 4, 4, 4]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;原因：&lt;/p&gt;
&lt;p&gt;lambda 捕获的是外部的 i 变量，而不是 i 在每次迭代中的值。所以，在迭代完成后，i 的值是 4，因此所有的 lambda 函数最终都返回 4。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;解决方案&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [(&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt; i: &lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt;: i)(i) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print([f() &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; f &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; fs])  &lt;span style=&#34;color:#75715e&#34;&gt;# [0, 1, 2, 3, 4]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;通过为每个 lambda 函数创建一个局部作用域，确保每个 lambda 捕获当前 i 的值。&lt;/p&gt;
&lt;h3 id=&#34;recursion&#34;&gt;Recursion&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-2.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The same function fact is called multiple times, each time solving a simpler problem&lt;/li&gt;
&lt;li&gt;All the frames share the &lt;strong&gt;same parent&lt;/strong&gt; - only difference is the argument&lt;/li&gt;
&lt;li&gt;What n evaluates to depends upon the current environment（在每个frame中修改n的时候实现重新赋值，而不会因为其他frame而改变当前frame的n的值）&lt;/li&gt;
&lt;li&gt;执行顺序是从最末情况到base case开始创建frame，返回值是从base case得到的值回到最末层&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lists&#34;&gt;Lists&lt;/h3&gt;
&lt;h4 id=&#34;box-and-poinger-notation&#34;&gt;Box and Poinger Notation&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-5.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;lists-in-lists-in-lists&#34;&gt;Lists in Lists in Lists&lt;/h4&gt;
&lt;p&gt;point to another list&lt;/p&gt;
&lt;h3 id=&#34;default-arguments&#34;&gt;Default Arguments&lt;/h3&gt;
&lt;hr&gt;
&lt;h2 id=&#34;higher-order-functions&#34;&gt;Higher order functions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;takes a function as an argument value, and/or
returns a function as a return value(often defined locally)&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;use: &lt;strong&gt;Abstraction and Generalization!&lt;/strong&gt; Give each function exactly one job, but make it apply to many related situations(分步进行的计算)
&lt;ol&gt;
&lt;li&gt;Generalize over different form of computation&lt;/li&gt;
&lt;li&gt;Helps remove repetitive segments of code&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lambda-expressions-vs-def-statements&#34;&gt;Lambda Expressions vs. Def Statements&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://cloudymount789.github.io/blog/sicp_note_before_mid/###lambda-expressions&#34;&gt;见这里&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;function-design--generalization&#34;&gt;Function Design &amp;amp; Generalization&lt;/h3&gt;
&lt;p&gt;函数泛化，提高可读性、可维护性和扩展性，在不同情景保持复用性&lt;/p&gt;
&lt;h3 id=&#34;functions-as-arguments&#34;&gt;Functions As Arguments&lt;/h3&gt;
&lt;p&gt;eg. 常见的高阶函数：&lt;/p&gt;
&lt;p&gt;map()：对一个可迭代对象的每个元素应用一个函数。&lt;/p&gt;
&lt;p&gt;filter()：根据给定的条件过滤一个可迭代对象。&lt;/p&gt;
&lt;p&gt;reduce()：累积地应用一个二元函数到一个可迭代对象上。&lt;/p&gt;
&lt;h3 id=&#34;functions-that-return-functions&#34;&gt;Functions That Return Functions&lt;/h3&gt;
&lt;p&gt;常常用于构建 闭包（closures），在其中返回的函数使用外部函数的环境变量来执行任务。&lt;/p&gt;
&lt;h3 id=&#34;function-currying&#34;&gt;Function Currying&lt;/h3&gt;
&lt;p&gt;函数柯里化（Currying）是将接受多个参数的函数转化为一系列接受单一参数的函数的技术。换句话说，柯里化的过程是将一个多参数的函数分解成多个单参数的函数序列。&lt;/p&gt;
&lt;p&gt;函数柯里化使得你可以部分应用函数参数，即先提供部分参数，得到一个新的函数，等待剩余的参数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;部分应用：通过柯里化，你可以将一个多参数的函数转化为一系列单一参数的函数，这有助于代码的简化和模块化。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;函数链：柯里化可以链式调用，允许更流畅的表达式。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;self-reference&#34;&gt;Self Reference&lt;/h3&gt;
&lt;p&gt;自我引用是指一个对象、函数或变量引用自己。在函数编程中，自我引用通常用于递归函数的实现，它允许函数在其内部调用自己来解决问题。&lt;/p&gt;
&lt;p&gt;自我引用常常出现在递归中，其中函数调用自身来逐步解决子问题，直到达到一个基本情况。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;recursion-1&#34;&gt;Recursion&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;means: solving problems with a naturally repeating structure - they are defined in terms of themselves&lt;/li&gt;
&lt;li&gt;It requires you to find patterns of smaller problems, and to define the smallest problem possible&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;function-abstraction&#34;&gt;Function Abstraction&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;核心：隐藏复杂性，提供简洁的接口&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;definition-of-recursion&#34;&gt;Definition of Recursion&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;递归是一种通过函数调用自身来解决问题的方法。递归的核心在于问题能被分解成更简单的子问题，且每次递归都会接近基础情况（base case）。&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;基础情况：递归停止的条件，通常是最简单的情况，比如 n == 0 或 n == 1。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;递归情况：问题通过递归调用被分解成更小的子问题，最终汇总得到答案。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;structure-of-a-recursive-function&#34;&gt;Structure of a Recursive Function&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Divide - Conquer - Combine&lt;/strong&gt;&lt;/em&gt;
递归函数通常遵循以下结构：&lt;/p&gt;
&lt;p&gt;分解（Divide）：将问题分解成一个或多个子问题。(多种情况or多个步骤)&lt;/p&gt;
&lt;p&gt;解决（Conquer）：解决更小的子问题，通常是递归地调用函数。&lt;/p&gt;
&lt;p&gt;合并（Combine）：将子问题的解合并，得到问题的最终解。&lt;/p&gt;
&lt;p&gt;递归结构的关键是将一个复杂的问题通过逐步减小问题的规模，最终解决最小的子问题。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;知道上个子问题的答案，可以怎样解决下一个问题？&lt;/li&gt;
&lt;li&gt;base case是什么？&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tree-recursion--recursion-tree&#34;&gt;Tree Recursion &amp;amp; Recursion Tree&lt;/h3&gt;
&lt;p&gt;树状递归是指递归函数的调用图呈树状结构。每次递归调用都会产生多个子调用，类似树的分支。递归树的深度取决于递归的层数，广度取决于每一层的调用数&lt;/p&gt;
&lt;h3 id=&#34;mutual-recursion&#34;&gt;Mutual Recursion&lt;/h3&gt;
&lt;p&gt;互相递归是指两个或更多的函数互相调用对方来完成任务。这种递归结构通常在两个函数的行为依赖于彼此时出现。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_odd&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; is_even(n &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_even&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; is_odd(n &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;iteration-vs-recursion&#34;&gt;Iteration vs. Recursion&lt;/h3&gt;
&lt;p&gt;递归可以更清晰地表示分解问题的过程，尤其是当问题的结构天然适合分解时。&lt;/p&gt;
&lt;p&gt;迭代通常更高效，因为每次递归调用都要维护栈帧，而迭代只需要更新变量。&lt;/p&gt;
&lt;h3 id=&#34;recursion-examples&#34;&gt;Recursion Examples:&lt;/h3&gt;
&lt;p&gt;When learning to write recursive functions, put the base case/s first&lt;/p&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意考虑边界情况!&lt;/strong&gt;
eg.&lt;strong&gt;Count Partitions&lt;/strong&gt;
Goal: Count the number of ways to give out n ( &amp;gt; 0) pieces of chocolate if nobody can have more than m (&amp;gt; 0) pieces.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If n is negative, then we cannot get to a valid partition&lt;/li&gt;
&lt;li&gt;If n is 0, then we have arrived at a valid partition&lt;/li&gt;
&lt;li&gt;If the largest piece we can use is 0, then we cannot get to a valid partition&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;sum-digits&#34;&gt;Sum-Digits&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sum_digits&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; sum_digits(n &lt;span style=&#34;color:#f92672&#34;&gt;//&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;cascade级联&#34;&gt;Cascade(级联)&lt;/h4&gt;
&lt;p&gt;级联递归指的是将多个函数或操作按顺序组合，每个函数的输出作为下一个函数的输入&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#从高位开始输出每位数字&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cascade&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(n)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        cascade(n &lt;span style=&#34;color:#f92672&#34;&gt;//&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(n &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;在递归函数中，通常会在每一次递归调用时暂停当前函数的执行，直到递归结束并返回&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#从低位开始输出每位数字&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cascade&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(n)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(n &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        cascade(n &lt;span style=&#34;color:#f92672&#34;&gt;//&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;fibonacci&#34;&gt;Fibonacci&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fibonacci&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; fibonacci(n &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; fibonacci(n &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;count-partitions&#34;&gt;Count-Partitions&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;count_partitions&lt;/span&gt;(n):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, n &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        count &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; count_partitions(n &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; i)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; count
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;if-time---speeding-up-recursion&#34;&gt;If Time - Speeding Up Recursion&lt;/h3&gt;
&lt;p&gt;store some values that had already calculated&lt;/p&gt;
&lt;h3 id=&#34;summery&#34;&gt;SUMMERY&lt;/h3&gt;
&lt;p&gt;Recursion has three main components&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Base case/s: The simplest form of the problem&lt;/li&gt;
&lt;li&gt;Recursive call/s: Smaller version of the problem&lt;/li&gt;
&lt;li&gt;Use the solution to the smaller version of the problem to arrive at the solution to the original problem&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;When working with recursion, use functional abstraction: assume the recursive call gives the correct result&lt;/li&gt;
&lt;li&gt;Tree recursion makes multiple recursive calls and explores different choices&lt;/li&gt;
&lt;li&gt;Use doctests and your own examples to help you figure out the simplest forms and how to make the problem smaller&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;sequence&#34;&gt;Sequence&lt;/h2&gt;
&lt;h3 id=&#34;sequence-abstraction&#34;&gt;Sequence Abstraction&lt;/h3&gt;
&lt;p&gt;All sequences have finite length.
Each element in a sequence has a discrete integer index.&lt;/p&gt;
&lt;h3 id=&#34;sequence-operation-expression&#34;&gt;Sequence Operation (Expression)&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#### Get Item&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;get the ith element &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;seq&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;[i]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#### Slicing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;##### Slicing Creates New Values&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;create a copy of the sequence &lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; i to j  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;seq&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;[i:j:skip]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#### Check Membership&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;check &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; the value of &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;expr&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;seq&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;expr&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;seq&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#### Concatenate&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;combine two sequences into a single sequence  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;s1&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;s2&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;sequence-processing-statement&#34;&gt;Sequence Processing (Statement)&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#### Iterating&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;For each element &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;seq&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) Bind it to &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) Execute &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;unpacking&#34;&gt;Unpacking&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-3.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;range&#34;&gt;Range&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;range(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;start&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;end&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;skip&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-4.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;list&#34;&gt;List&lt;/h3&gt;
&lt;h4 id=&#34;list-comprehensions&#34;&gt;List Comprehensions&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;expr&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;name&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;seq&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;cond&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;string&#34;&gt;String&lt;/h3&gt;
&lt;h4 id=&#34;string-literals-three-forms&#34;&gt;String Literals (Three Forms)&lt;/h4&gt;
&lt;p&gt;Python 中有三种常见的字符串字面量表示形式：&lt;/p&gt;
&lt;p&gt;单引号： &amp;lsquo;Hello&amp;rsquo;&lt;/p&gt;
&lt;p&gt;双引号： &amp;ldquo;Hello&amp;rdquo;&lt;/p&gt;
&lt;p&gt;三引号： &amp;lsquo;&amp;lsquo;&amp;lsquo;Hello&amp;rsquo;&amp;rsquo;&amp;rsquo; 或 &amp;ldquo;&amp;ldquo;&amp;ldquo;Hello&amp;rdquo;&amp;rdquo;&amp;rdquo;
三引号用于表示多行字符串，或者在字符串中包含引号时可以避免转义。&lt;/p&gt;
&lt;h3 id=&#34;sequence-aggregation-sum-max--min-all--any&#34;&gt;Sequence Aggregation (Sum, Max / Min, All / Any)&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-6.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;dictionary&#34;&gt;Dictionary&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://cloudymount789.github.io/images/image-7.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;data-abstraction-and-tree&#34;&gt;Data abstraction and Tree&lt;/h2&gt;
&lt;p&gt;Compound values combine other values together
Data abstraction lets us manipulate compound values as units
e.g.
有理数由分子（numerator）和分母（denominator）组成，是分数的精确表示形式，以整数对形式存在。常规表达进行除法运算，可能会丢失精确表示。
so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 基础构造与选择器&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rational&lt;/span&gt;(n, d): &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; [n, d]  &lt;span style=&#34;color:#75715e&#34;&gt;# 构造有理数（列表形式）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;numer&lt;/span&gt;(x): &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]  &lt;span style=&#34;color:#75715e&#34;&gt;# 获取分子&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;denom&lt;/span&gt;(x): &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]  &lt;span style=&#34;color:#75715e&#34;&gt;# 获取分母&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 运算实现&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mul_rational&lt;/span&gt;(x, y): &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; rational(numer(x)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;numer(y), denom(x)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;denom(y))  &lt;span style=&#34;color:#75715e&#34;&gt;# 乘法&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add_rational&lt;/span&gt;(x, y):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    nx, dx &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; numer(x), denom(x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ny, dy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; numer(y), denom(y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; rational(nx&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;dy &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; ny&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;dx, dx&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;dy)  &lt;span style=&#34;color:#75715e&#34;&gt;# 加法&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;print_rational&lt;/span&gt;(x): print(numer(x), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;, denom(x))  &lt;span style=&#34;color:#75715e&#34;&gt;# 打印&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rationals_are_equal&lt;/span&gt;(x, y): &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; numer(x)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;denom(y) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; numer(y)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;denom(x)  &lt;span style=&#34;color:#75715e&#34;&gt;# 相等判断&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 最简形式优化（引入最大公约数）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; math &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; gcd
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rational&lt;/span&gt;(n, d):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    g &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; gcd(n, d)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; [n&lt;span style=&#34;color:#f92672&#34;&gt;//&lt;/span&gt;g, d&lt;span style=&#34;color:#f92672&#34;&gt;//&lt;/span&gt;g]  &lt;span style=&#34;color:#75715e&#34;&gt;# 返回最简分数形式的有理&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;abstraction-barrier-between-representation--use&#34;&gt;Abstraction Barrier (between Representation &amp;amp; Use)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;def: 将数据的表示和使用分开的一种设计思想。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过抽象屏障，可以使得数据的表示方式对外部用户隐藏，从而保护数据的结构，使其不容易受到外部代码的直接修改。
把底层的数据结构和功能封装起来，使得使用者可以通过抽象接口来操作数据，而不需要理解内部的实现。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;表示：指的是数据的内部结构，如何在计算机中存储这些数据。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用：指的是外部代码与数据进行交互的方式，用户与数据的交互不关心数据的具体实现，只关心如何操作数据。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;constructor--selectors&#34;&gt;Constructor &amp;amp; Selectors&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Constructor（构造函数）是用于创建数据对象的函数，它定义了如何通过一些基本组件来构造出复杂的数据结构。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Selectors（选择器）是用于从已构建的数据结构中提取信息的函数。它们允许用户访问数据结构中的元素或属性。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;break:
过度依赖数据的内部实现，或者在外部代码中直接修改、访问类和数据结构的私有部分或底层细节&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;abstract-data-type&#34;&gt;Abstract Data Type&lt;/h3&gt;
&lt;p&gt;指数据结构和操作的组合
e.g.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;列表（List）：一个抽象数据类型，可以进行元素添加、删除、查找等操作，具体实现可以是动态数组、链表等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;栈（Stack）：一种抽象数据类型，具有push()和pop()等操作，可以通过不同的实现方式（例如数组或链表）来实现。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;closure&#34;&gt;Closure&lt;/h3&gt;
&lt;p&gt;指函数不仅能够访问其自己的局部变量，还能够访问外部函数的局部变量。闭包使得函数能够“记住”它被创建时的环境，即使外部函数已经返回，内部函数仍然能够访问外部函数的变量。&lt;/p&gt;
&lt;h3 id=&#34;tree-abstraction&#34;&gt;Tree Abstraction&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;递归描述（木质树视角）
树由一个根（root）和一组分支（branches）组成。
每个分支本身也是一棵树。
零个分支的树称为叶子（leaf）。
&lt;ul&gt;
&lt;li&gt;Label：节点的值&lt;/li&gt;
&lt;li&gt;Branches：子节点或子树，是一个列表，其中每个元素表示一个子节点。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;相对描述（家族树视角）
树中每个位置称为节点（node）。
每个节点有一个标签值（label value）。
节点间存在父子关系（parent/child）。
常根据节点位置描述值的关系&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;树包含标签值和分支列表的结构，分支列表可为空（对应叶子）&lt;/p&gt;
&lt;h3 id=&#34;tree-implementation&#34;&gt;Tree Implementation&lt;/h3&gt;
&lt;h4 id=&#34;constructor-tree&#34;&gt;Constructor: tree&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tree&lt;/span&gt;(label, branches&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;[]):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; branch &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; branches:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;assert&lt;/span&gt; is_tree(branch)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; [label] &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; list(branches)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;selectors-label-branches&#34;&gt;Selectors: label, branches&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;label&lt;/span&gt;(tree):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tree[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;branches&lt;/span&gt;(tree):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tree[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;convinence-functions-is_tree-is_leaf&#34;&gt;Convinence Functions: is_tree, is_leaf&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_tree&lt;/span&gt;(tree):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; type(tree) &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; list &lt;span style=&#34;color:#f92672&#34;&gt;or&lt;/span&gt; len(tree) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; branch &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; branches(tree):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; is_tree(branch):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_leaf&lt;/span&gt;(tree):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; branches(tree)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;tree-processing-using-recursion&#34;&gt;Tree Processing (using Recursion)&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;count_leaves&lt;/span&gt;(t):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;统计树的叶子节点总数&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; is_leaf(t):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# 叶子节点返回1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# 递归计算每个分支的叶子数，求和聚合&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        branch_counts &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [count_leaves(b) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; branches(t)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; sum(branch_counts)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;increment_leaves&lt;/span&gt;(t):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;返回叶子节点标签递增1的新树&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; is_leaf(t):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tree(label(t) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;# 叶子节点标签+1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# 递归处理每个分支，保留非叶子节点标签&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        bs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [increment_leaves(b) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; branches(t)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tree(label(t), bs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;increment&lt;/span&gt;(t):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;返回所有节点标签递增1的新树&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# 根节点标签+1，递归处理所有分支&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tree(label(t) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, [increment(b) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; branches(t)])
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;mutablility&#34;&gt;Mutablility&lt;/h2&gt;
&lt;p&gt;指对象在创建后是否可以改变其内容或状态，它们影响了对象的行为、存储方式、以及如何处理对象的引用&lt;/p&gt;
&lt;h3 id=&#34;objects&#34;&gt;Objects&lt;/h3&gt;
&lt;p&gt;对象 是程序中所有数据的基本单位。每个对象都有两个主要属性：身份（Identity）和 值（Value）。对象的身份由它的内存地址决定，而值则是对象所包含的数据。对象的行为通过其类型（如列表、字典、整数等）决定&lt;/p&gt;
&lt;h3 id=&#34;mutable-objects&#34;&gt;Mutable Objects&lt;/h3&gt;
&lt;h4 id=&#34;lists-1&#34;&gt;Lists&lt;/h4&gt;
&lt;p&gt;append()：向列表末尾添加元素。&lt;/p&gt;
&lt;p&gt;pop()：移除并返回列表的最后一个元素，或指定索引的元素。&lt;/p&gt;
&lt;p&gt;remove()：移除列表中第一个匹配的指定元素。&lt;/p&gt;
&lt;p&gt;extend()：将一个可迭代对象中的元素添加到列表末尾。&lt;/p&gt;
&lt;p&gt;Slice Assignment：通过切片语法修改列表中的部分元素。&lt;/p&gt;
&lt;h3 id=&#34;dictionaries&#34;&gt;Dictionaries&lt;/h3&gt;
&lt;p&gt;由键（key）和值（value）对组成的映射。字典允许通过键来查找对应的值，可以进行修改、删除或添加新的键值对。&lt;/p&gt;
&lt;h3 id=&#34;mutate-with-functions&#34;&gt;Mutate with Functions&lt;/h3&gt;
&lt;p&gt;由于 Python 中的可变对象是通过引用传递的，修改可变对象会影响原始对象&lt;/p&gt;
&lt;h3 id=&#34;immutable-objects&#34;&gt;Immutable Objects&lt;/h3&gt;
&lt;p&gt;Tuple, str, int, float
可变仅指元组本身的元素绑定不可变，若元组包含可变元素（如列表），该可变元素的内容可被修改。&lt;/p&gt;
&lt;h3 id=&#34;identity--equality&#34;&gt;Identity &amp;amp; Equality&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Identity 指的是对象在内存中的位置，通常由 id() 函数来查看。
同一性（is运算符）：判断两个表达式是否指向同一个对象。&lt;/li&gt;
&lt;li&gt;Equality 则是指对象的内容是否相等。对于可变对象，修改对象的内容不会改变对象的身份；而对于不可变对象，任何修改都需要创建一个新对象。
同一对象必然值相等，但值相等的对象不一定是同一对象。
相等性（==运算符）：判断两个表达式的值是否相等。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;default-arguments-1&#34;&gt;Default Arguments&lt;/h3&gt;
&lt;p&gt;函数的默认参数值是函数定义的一部分，仅在函数定义时创建一次，而非每次调用时重新生成。
若默认参数是可变对象（如列表），多次调用函数会共享该对象，导致意外的状态累积。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;append_to_list&lt;/span&gt;(value, lst&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;[]):  &lt;span style=&#34;color:#75715e&#34;&gt;# 注意：默认值是可变的&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    lst&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; lst
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(append_to_list(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;))  &lt;span style=&#34;color:#75715e&#34;&gt;# 输出 [1]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(append_to_list(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))  &lt;span style=&#34;color:#75715e&#34;&gt;# 输出 [1, 2]，因为默认的列表是共享的&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;要避免这种情况，使用不可变的默认参数（例如 None）并在函数体内初始化：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;append_to_list&lt;/span&gt;(value, lst&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; lst &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        lst &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    lst&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; lst
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(append_to_list(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;))  &lt;span style=&#34;color:#75715e&#34;&gt;# 输出 [1]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;print(append_to_list(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))  &lt;span style=&#34;color:#75715e&#34;&gt;# 输出 [2]，避免了共享同一个列表的问题&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;mutable-functions-nonlocal&#34;&gt;Mutable Functions (Nonlocal)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;nonlocal 关键字用于修改外层函数作用域中的变量，而不是创建一个局部变量&lt;/li&gt;
&lt;li&gt;tip:
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;如果外层函数的变量是可变的（例如列表、字典等），你可以修改它的内容，而无需使用 nonlocal。但如果你想直接对变量本身（例如赋值为一个新对象）进行修改，就需要使用 nonlocal。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果外层函数的变量是不可变的（例如整数、字符串、元组等），则即使使用 nonlocal 关键字，你也只能修改它的引用，而不能直接改变它的值（因为不可变对象的值一旦创建就无法修改）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;unboundlocalerror&#34;&gt;UnboundLocalError&lt;/h4&gt;
&lt;p&gt;当你在函数内部引用一个变量，并且该变量在局部作用域中没有声明时，Python 会抛出 UnboundLocalError 错误。这通常发生在试图在函数中修改局部变量时，而没有明确声明该变量为 nonlocal 或 global。&lt;/p&gt;
&lt;h4 id=&#34;mutate-mutable-values-wihout-nonlocal&#34;&gt;Mutate Mutable Values wihout Nonlocal&lt;/h4&gt;
&lt;p&gt;如果一个变量是可变的且位于外部作用域，你可以在内部函数中修改它的内容，而不必使用 nonlocal&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#嵌套列表&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;t &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;t[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [t]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;t&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;extend(t)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;t &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;], [&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;t[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(t[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;])  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;iterable&#34;&gt;Iterable&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Iterable&lt;/strong&gt; 是任何能够逐个返回其成员的对象。它包括序列类型（如列表、字符串、元组）以及非序列类型（如字典）。&lt;/p&gt;
&lt;h3 id=&#34;iterators-iter--next&#34;&gt;Iterators (iter &amp;amp; next)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;iter(iterable)&lt;/strong&gt;：此函数返回一个迭代器(iterator)，它可以逐个遍历&lt;strong&gt;可迭代对象&lt;/strong&gt;(iterable)的元素。可以把它理解为一本书的书签，从书的前面开始。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;next(iterator)&lt;/strong&gt;：此函数返回&lt;strong&gt;迭代器&lt;/strong&gt;的下一个元素，并将书签移动到下一页。迭代器会记住它的当前位置。如果当前位置已经是书的结尾，它会抛出一个错误。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;views-of-a-dictionary-keys--values&#34;&gt;Views of a Dictionary (keys &amp;amp; values)&lt;/h3&gt;
&lt;p&gt;字典及其&lt;strong&gt;键&lt;/strong&gt;(keys)、&lt;strong&gt;值&lt;/strong&gt;(values)和&lt;strong&gt;项&lt;/strong&gt;(items)都是可迭代对象。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;d.keys()&lt;/code&gt;&lt;/strong&gt;：返回字典&lt;strong&gt;键&lt;/strong&gt;的可迭代视图。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;d.values()&lt;/code&gt;&lt;/strong&gt;：返回字典&lt;strong&gt;值&lt;/strong&gt;的可迭代视图。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;d.items()&lt;/code&gt;&lt;/strong&gt;：返回字典&lt;strong&gt;键值对&lt;/strong&gt;的可迭代视图。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;built-in-functions-for-iteration&#34;&gt;Built-in Functions for Iteration&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;map(func, iterable)&lt;/strong&gt;：对可迭代对象中的每个元素应用指定的函数。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;filter(func, iterable)&lt;/strong&gt;：过滤可迭代对象中的元素，保留通过&lt;strong&gt;函数&lt;/strong&gt;判断为&lt;strong&gt;真&lt;/strong&gt;的元素。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;zip(first_iter, second_iter)&lt;/strong&gt;：将两个或多个可迭代对象中的元素按顺序组成元组返回。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;reversed(sequence)&lt;/strong&gt;：返回一个反向迭代器，逐个遍历&lt;strong&gt;序列&lt;/strong&gt;中的元素。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;create-iterators&#34;&gt;Create Iterators&lt;/h3&gt;
&lt;p&gt;这些函数允许我们创建迭代器：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;map&lt;/strong&gt;：将一个函数应用到每个元素。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;filter&lt;/strong&gt;：根据一个&lt;strong&gt;条件函数&lt;/strong&gt;筛选元素。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;zip&lt;/strong&gt;：将两个可迭代对象的元素按顺序组成元组。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;reversed&lt;/strong&gt;：创建一个反向遍历&lt;strong&gt;序列&lt;/strong&gt;的迭代器。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;view-iterators&#34;&gt;View Iterators&lt;/h3&gt;
&lt;p&gt;这些函数将&lt;strong&gt;可迭代对象&lt;/strong&gt;转换为不同的数据结构视图：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;list(iterable)&lt;/strong&gt;：将可迭代对象转换为列表。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;tuple(iterable)&lt;/strong&gt;：将可迭代对象转换为元组。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sorted(iterable)&lt;/strong&gt;：将可迭代对象排序后返回一个新的列表。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Example of iterators and map function&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;naturals&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;yield&lt;/span&gt; x
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        x &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; nats &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; naturals()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; next(nats)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; next(nats)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; nats1, nats2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; naturals(), naturals()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; [next(nats1) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; next(nats2) &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; _ &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;]  &lt;span style=&#34;color:#75715e&#34;&gt;# Squares the first 5 natural numbers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;generators-and-generator-functions&#34;&gt;Generators and Generator Functions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Generators&lt;/strong&gt;：生成器是通过调用生成器函数自动创建的迭代器。它使用&lt;code&gt;yield&lt;/code&gt;关键字逐个返回值，并保持函数的状态，以便后续调用&lt;code&gt;next()&lt;/code&gt;时继续执行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Generator Functions&lt;/strong&gt;：生成器函数包含一个或多个&lt;code&gt;yield&lt;/code&gt;语句。与普通函数不同，生成器函数在每次&lt;code&gt;yield&lt;/code&gt;时返回一个值，而不是一次性返回。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;yield-value&#34;&gt;&lt;code&gt;yield&lt;/code&gt; value&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;yield&lt;/code&gt;关键字用于生成一个值，并挂起函数的执行，之后可以继续执行。&lt;/p&gt;
&lt;h4 id=&#34;yield-from-iterator--iterable&#34;&gt;&lt;code&gt;yield from iterator / iterable&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;yield from&lt;/code&gt;语法用于将另一个迭代器或可迭代对象的所有值逐个返回。它简化了代码，在需要将值传递给另一个生成器或可迭代对象时非常有用。&lt;/p&gt;
&lt;h4 id=&#34;generators-representing-infinite-sequences&#34;&gt;Generators Representing Infinite Sequences&lt;/h4&gt;
&lt;p&gt;生成器可以表示无限序列。例如，上述的&lt;code&gt;naturals()&lt;/code&gt;函数生成一个从0开始的无限自然数序列。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;exception&#34;&gt;Exception&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Exception&lt;/strong&gt; 是程序在运行时遇到的错误，会打断程序的正常执行流程。&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;中文名&lt;/th&gt;
          &lt;th&gt;英文名&lt;/th&gt;
          &lt;th&gt;说明&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;异常&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Exception&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;程序运行时检测到的错误，会中断当前代码的正常执行流程。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;抛出异常&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Raise an Exception&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;使用 &lt;code&gt;raise&lt;/code&gt; 语句主动触发异常。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;捕获异常&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Catch / Handle Exception&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;使用 &lt;code&gt;try...except&lt;/code&gt; 捕获并处理异常，防止程序崩溃。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;异常传播&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Exception Propagation&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;如果当前作用域未捕获异常，异常会沿着调用栈往上层传递，直到被捕获或导致程序终止。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;异常对象&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Exception Object&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;每个异常都是一个类的实例，包含错误类型、信息、堆栈信息等。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;异常类层级结构&lt;/td&gt;
          &lt;td&gt;&lt;strong&gt;Exception Hierarchy&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;Python 中所有异常都是从 &lt;code&gt;BaseException&lt;/code&gt; 类继承而来的一棵树。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;built-in-exceptions&#34;&gt;Built-in Exceptions&lt;/h4&gt;
&lt;p&gt;Python提供了多个内建异常，每种异常用于不同类型的错误。&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;异常名&lt;/th&gt;
          &lt;th&gt;英文说明&lt;/th&gt;
          &lt;th&gt;常见触发场景&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;SyntaxError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Syntax error&lt;/td&gt;
          &lt;td&gt;语法错误（代码结构非法）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;IndentationError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Indentation error&lt;/td&gt;
          &lt;td&gt;缩进错误&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;NameError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Undefined variable&lt;/td&gt;
          &lt;td&gt;使用了未定义的变量&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;TypeError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Type mismatch&lt;/td&gt;
          &lt;td&gt;类型不兼容（如把字符串加到整数上）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ValueError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Invalid value&lt;/td&gt;
          &lt;td&gt;值类型正确但取值非法（如 &lt;code&gt;int(&amp;quot;abc&amp;quot;)&lt;/code&gt;）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;IndexError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Index out of range&lt;/td&gt;
          &lt;td&gt;列表索引越界&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;KeyError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Missing dictionary key&lt;/td&gt;
          &lt;td&gt;字典中查找不存在的键&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;AttributeError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Missing attribute&lt;/td&gt;
          &lt;td&gt;对象没有该属性或方法&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ZeroDivisionError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Division by zero&lt;/td&gt;
          &lt;td&gt;除以零错误&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;IOError&lt;/code&gt; / &lt;code&gt;OSError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Input/Output error&lt;/td&gt;
          &lt;td&gt;文件或系统操作失败（如找不到文件）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;FileNotFoundError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;File not found&lt;/td&gt;
          &lt;td&gt;打开不存在的文件&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ImportError&lt;/code&gt; / &lt;code&gt;ModuleNotFoundError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Import error&lt;/td&gt;
          &lt;td&gt;模块导入失败&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;RuntimeError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Generic runtime error&lt;/td&gt;
          &lt;td&gt;运行时检测到其他异常情况&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;RecursionError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Maximum recursion depth exceeded&lt;/td&gt;
          &lt;td&gt;递归层数太深&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;AssertionError&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Assertion failed&lt;/td&gt;
          &lt;td&gt;断言失败（&lt;code&gt;assert&lt;/code&gt;）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;StopIteration&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Iterator finished&lt;/td&gt;
          &lt;td&gt;迭代器结束（由迭代协议内部抛出）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;StopAsyncIteration&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Async iterator finished&lt;/td&gt;
          &lt;td&gt;异步迭代结束&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;exception-mechanism&#34;&gt;Exception Mechanism&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Detection (发现错误)&lt;/strong&gt;: 错误会在程序执行时被发现。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Raising (raise)&lt;/strong&gt;: 可以通过&lt;code&gt;raise&lt;/code&gt;关键字显式地抛出错误。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Propagation (异常传播)&lt;/strong&gt;: 如果当前作用域没有捕获异常，异常会沿着调用栈向上传播，直到被捕获或导致程序终止。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Catching (捕获)&lt;/strong&gt;: 错误可以使用&lt;code&gt;try&lt;/code&gt;/&lt;code&gt;except&lt;/code&gt;块进行捕获。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Else (无异常时执行)&lt;/strong&gt;: 如果&lt;code&gt;try&lt;/code&gt;块没有抛出异常，则执行&lt;code&gt;else&lt;/code&gt;块。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Finally (始终执行)&lt;/strong&gt;: 无论是否发生异常，&lt;code&gt;finally&lt;/code&gt;块总是会执行。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;raise-syntax&#34;&gt;&lt;code&gt;raise&lt;/code&gt; Syntax&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;raise&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;expression&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# &amp;lt;expression&amp;gt; 必须是一个异常对象&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;example&#34;&gt;Example&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;divide&lt;/span&gt;(a, b):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;assert&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Divider cannot be zero&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AssertionError&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; e:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Assertion failed:&amp;#34;&lt;/span&gt;, e)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ZeroDivisionError&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; e:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Caught division error:&amp;#34;&lt;/span&gt;, e)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Result is:&amp;#34;&lt;/span&gt;, result)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;finally&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Computation ended.&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;divide(&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Output:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Assertion failed: Divider cannot be zero
Computation ended.
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
  </channel>
</rss>